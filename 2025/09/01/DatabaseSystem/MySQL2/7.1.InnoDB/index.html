<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	
	<!-- title -->
	
	<title>
	
		InnoDB 存储引擎 | 
	 
	予早 Tech
	</title>
	
	<!-- keywords,description -->
	
	

	<!-- favicon -->
	


	<!-- search -->
	<script>
		var searchEngine = "";
		if(typeof searchEngine == "undefined" || searchEngine == null || searchEngine == ""){
			searchEngine = "https://www.google.com/search?q=";
		}
		var homeHost = "";
		if(typeof homeHost == "undefined" || homeHost == null || homeHost == ""){
			homeHost = window.location.host;
		}
	</script>


	
<link rel="stylesheet" href="/css/main.css">

	
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/darcula.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">


	
<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.0/dist/jquery.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>

	
<script src="/js/main.js"></script>


	
	

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
	<header id="header">
    <a id="title" href="/" class="logo">予早 Tech</a>

	<ul id="menu">
    

    

    

    
  
    
	</ul>
</header>

	
<div id="sidebar">
	<button id="sidebar-toggle" class="toggle" ><i class="fa fa-arrow-right " aria-hidden="true"></i></button>
	
	<div id="site-toc">
		<input id="search-input" class="search-input" type="search" placeholder="Press Enter to search">
		<div id="tree">
			

			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										BusinessSystem
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										电商系统
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/BusinessSystem/%E7%94%B5%E5%95%86%E7%B3%BB%E7%BB%9F/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										统一消息推送
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/BusinessSystem/%E7%BB%9F%E4%B8%80%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81/%E7%9F%AD%E4%BF%A1%E6%B6%88%E6%81%AF%E6%A8%A1%E6%9D%BF/">
                     
										    短信消息模板
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										CloudNative
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Harbor
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/CloudNative/Harbor/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Jenkins
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/CloudNative/Jenkins/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Kubernetes
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										backup
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/CloudNative/Kubernetes/backup/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/CloudNative/Kubernetes/%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/">
                     
										    集群搭建
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/CloudNative/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										CloudPlatform
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/CloudPlatform/OSS/">
                     
										    OSS
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										ComputerBasic
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										操作系统
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/KB%E3%80%81KiB/">
                     
										    KB、KiB
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										UNIX-likeOS
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/UID%E3%80%81EUID/">
                     
										    UID、EUID
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/export/">
                     
										    export
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/linux%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5/">
                     
										    linux时间同步
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/make%E3%80%81cmake/">
                     
										    make、cmake
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/ps/">
                     
										    ps
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/sed/">
                     
										    sed
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/shell/">
                     
										    shell
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/systemd/">
                     
										    systemd
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/%E7%A3%81%E7%9B%98%E6%89%A9%E5%AE%B9/">
                     
										    磁盘扩容
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91/">
                     
										    输入输出重定向
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										WindowsOS
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/WindowsOS/PowerShell%20/">
                     
										    PowerShell 
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/WindowsOS/Windows%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/">
                     
										    Windows环境变量
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/WindowsOS/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/">
                     
										    实用工具
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/x86%E3%80%81x64/">
                     
										    x86、x64
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B/">
                     
										    多线程模型
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										计算机网络
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerBasic/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										ComputerLanguage
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										C、C++
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/C%E3%80%81C++/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Go
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										1.语言基础
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/12/09/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/1.%E6%A6%82%E8%BF%B0/">
                     
										    1.概述
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/11/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/10.%E5%87%BD%E6%95%B0/">
                     
										    10.函数
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/11.%E5%BC%82%E5%B8%B8/">
                     
										    11.异常
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/12.%E5%85%83%E7%BC%96%E7%A8%8B/">
                     
										    12.元编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/19/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/13.%E6%BA%90%E6%96%87%E4%BB%B6%E9%97%B4%E7%BB%93%E6%9E%84%E7%BB%84%E7%BB%87/">
                     
										    13.源文件间结构组织
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/19/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/14.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/">
                     
										    14.面向对象编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/09/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/2.%E5%8E%86%E5%8F%B2/">
                     
										    2.历史
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/3.1%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%A8%A1%E5%BC%8F/">
                     
										    3.1代码执行模式
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/09/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/3.%E7%8E%AF%E5%A2%83/">
                     
										    3.环境
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/09/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/4.%E6%A0%87%E8%AF%86%E7%AC%A6/">
                     
										    4.标识符
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/11/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/5.%E5%B8%B8%E9%87%8F%E4%B8%8E%E5%8F%98%E9%87%8F/">
                     
										    5.常量与变量
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/09/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/6.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">
                     
										    6.数据类型
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/11/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/7.%E8%BF%90%E7%AE%97%E7%AC%A6/">
                     
										    7.运算符
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/11/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/8.%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">
                     
										    8.流程控制
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/11/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/9.%E6%B3%A8%E9%87%8A/">
                     
										    9.注释
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										2.功能基础
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/12/20/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/1.%E7%BC%96%E8%A7%A3%E7%A0%81/">
                     
										    1.编解码
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/21/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/10.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/">
                     
										    10.并发编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/11.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/">
                     
										    11.网络编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/20/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/2.%E5%8A%A0%E8%A7%A3%E5%AF%86/">
                     
										    2.加解密
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/3.IO/">
                     
										    3.IO
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/20/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/4.%E6%95%B0%E5%AD%A6/">
                     
										    4.数学
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/5.%E6%97%B6%E9%97%B4/">
                     
										    5.时间
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/6.%E7%B3%BB%E7%BB%9F/">
                     
										    6.系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/21/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/7.%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">
                     
										    7.基础数据结构与算法
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/20/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/9.%E7%BB%9F%E4%B8%80%E6%97%A5%E5%BF%97/">
                     
										    9.统一日志
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										3.运行时
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Go/3.%E8%BF%90%E8%A1%8C%E6%97%B6/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/">
                     
										    内存管理
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										4.主要规范
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/Go/4.%E4%B8%BB%E8%A6%81%E8%A7%84%E8%8C%83/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/Go/4.%E4%B8%BB%E8%A6%81%E8%A7%84%E8%8C%83/%E6%A0%BC%E5%BC%8F%E5%8C%96/">
                     
										    格式化
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/Go/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										JavaScript
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/JavaScript/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Java
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										2.功能基础
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Java/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/10.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/">
                     
										    10.并发编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Python
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										1.语言基础
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/06/26/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/1.%E6%A6%82%E8%BF%B0/">
                     
										    1.概述
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/27/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/10.%E6%B3%A8%E9%87%8A/">
                     
										    10.注释
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/11.1.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/">
                     
										    11.1.内置函数
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/11.%E5%87%BD%E6%95%B0/">
                     
										    11.函数
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/12.%E5%BC%82%E5%B8%B8/">
                     
										    12.异常
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/13.%E5%85%83%E7%BC%96%E7%A8%8B/">
                     
										    13.元编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/14.%E6%BA%90%E6%96%87%E4%BB%B6%E9%97%B4%E7%BB%93%E6%9E%84%E7%BB%84%E7%BB%87/">
                     
										    14.源文件间结构组织
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/15.1.%E5%86%85%E7%BD%AE%E7%B1%BB/">
                     
										    15.1.内置类
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/15.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/">
                     
										    15.面向对象编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/16.%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/">
                     
										    16.函数式编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/17.%E6%B5%81%E5%BC%8F%E7%BC%96%E7%A8%8B/">
                     
										    17.流式编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/18.%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B/">
                     
										    18.面向切面编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/26/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/2.%E5%8E%86%E5%8F%B2/">
                     
										    2.历史
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/3.1.%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%A8%A1%E5%BC%8F/">
                     
										    3.1.代码执行模式
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/3.2.__main__/">
                     
										    3.2.__main__
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/3.%E7%8E%AF%E5%A2%83/">
                     
										    3.环境
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/26/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/4.%E5%85%B3%E9%94%AE%E5%AD%97%E5%92%8C%E6%A0%87%E8%AF%86%E7%AC%A6/">
                     
										    4.关键字和标识符
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/5.%E5%B8%B8%E9%87%8F%E4%B8%8E%E5%8F%98%E9%87%8F/">
                     
										    5.常量与变量
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/6.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">
                     
										    6.数据类型
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/7.%E8%BF%90%E7%AE%97%E7%AC%A6/">
                     
										    7.运算符
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/27/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/8.%E8%A1%A8%E8%BE%BE%E5%BC%8F/">
                     
										    8.表达式
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/26/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/9.%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">
                     
										    9.流程控制
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E4%B8%8A%E4%B8%8B%E6%96%87/">
                     
										    上下文
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										2.功能基础
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/1.%E7%BC%96%E8%A7%A3%E7%A0%81/">
                     
										    1.编解码
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/10.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/">
                     
										    10.并发编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/11.%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/">
                     
										    11.单元测试
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/12.Debug/">
                     
										    12.Debug
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/13.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/">
                     
										    13.网络编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/14.%E5%9B%BD%E9%99%85%E5%8C%96%E5%92%8C%E6%9C%AC%E5%9C%B0%E5%8C%96/">
                     
										    14.国际化和本地化
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/11/30/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/15.%E6%96%87%E6%A1%A3%E5%8C%96/">
                     
										    15.文档化
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/11/30/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/16.%E8%B7%A8%E8%AF%AD%E8%A8%80%E8%B0%83%E7%94%A8/">
                     
										    16.跨语言调用
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/2.%E5%8A%A0%E8%A7%A3%E5%AF%86/">
                     
										    2.加解密
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/3.IO/">
                     
										    3.IO
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/4.%E6%95%B0%E5%AD%A6/">
                     
										    4.数学
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/5.%E6%97%B6%E9%97%B4/">
                     
										    5.时间
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/6.%E7%B3%BB%E7%BB%9F/">
                     
										    6.系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/7.%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">
                     
										    7.基础数据结构与算法
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/8.%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2/">
                     
										    8.图形用户界面
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/9.%E7%BB%9F%E4%B8%80%E6%97%A5%E5%BF%97/">
                     
										    9.统一日志
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										3.解释器
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/01/08/ComputerLanguage/Python/3.%E8%A7%A3%E9%87%8A%E5%99%A8/%E5%A6%82%E4%BD%95%E5%88%9D%E6%AD%A5%E4%BA%86%E8%A7%A3%E8%A7%A3%E9%87%8A%E5%99%A8%E5%8E%9F%E7%90%86/">
                     
										    如何初步了解解释器原理
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/3.%E8%A7%A3%E9%87%8A%E5%99%A8/%E8%A7%81CPython3.7%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/">
                     
										    见CPython3.7源码剖析
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										4.三方组件
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/0.%E5%B8%B8%E7%94%A8%E5%8A%9F%E8%83%BD%E5%BA%93%E4%B8%80%E8%A7%88/">
                     
										    0.常用功能库一览
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/1.%E5%88%86%E8%AF%8D%E3%80%81%E8%AF%8D%E4%BA%91/">
                     
										    1.分词、词云
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/2.matplotlib/">
                     
										    2.matplotlib
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/3.pycurl/">
                     
										    3.pycurl
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/4.celery/">
                     
										    4.celery
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/5.pandas/">
                     
										    5.pandas
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/6.%E6%96%87%E6%A1%A3/">
                     
										    6.文档
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/7.pyan/">
                     
										    7.pyan
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/8.tqdm/">
                     
										    8.tqdm
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/pydantic/">
                     
										    pydantic
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										4.主要规范
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%BB%E8%A6%81%E8%A7%84%E8%8C%83/1.%E6%A6%82%E8%BF%B0/">
                     
										    1.概述
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/Python/4.%E4%B8%BB%E8%A6%81%E8%A7%84%E8%8C%83/PEP%20249%20-%20Python%20%E6%95%B0%E6%8D%AE%E5%BA%93%20API%20%E8%A7%84%E8%8C%83%20v2.0/">
                     
										    PEP 249 - Python 数据库 API 规范 v2.0
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/11/30/ComputerLanguage/Python/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										编程语言理论
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E7%90%86%E8%AE%BA/%E5%8D%AB%E8%AF%AD%E5%8F%A5/">
                     
										    卫语句
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E7%90%86%E8%AE%BA/%E8%AF%AD%E5%8F%A5/">
                     
										    语句
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/22/ComputerLanguage/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E7%90%86%E8%AE%BA/%E8%AF%AD%E8%A8%80%E7%B1%BB%E5%9E%8B/">
                     
										    语言类型
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84%E9%97%AD%E5%8C%85/">
                     
										    计算机语言中的闭包
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										CyberSecurity
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/CyberSecurity/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										安全问题及解决方案
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/CyberSecurity/%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/CSRF/">
                     
										    CSRF
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/CyberSecurity/%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/SQL%20Injection/">
                     
										    SQL Injection
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/CyberSecurity/%E8%AF%81%E4%B9%A6/">
                     
										    证书
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										DatabaseSystem
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/5./">
                     
										    5.
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										ClickHouse
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/ClickHouse/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										ElasticStack
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/ElasticStack/ES%E5%88%86%E7%89%87%E6%95%B0%E9%87%8F%E4%BC%98%E5%8C%96/">
                     
										    ES分片数量优化
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/ElasticStack/Elasticsearch/">
                     
										    Elasticsearch
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/ElasticStack/KQL/">
                     
										    KQL
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/ElasticStack/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Kafka
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/Kafka/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										MongoDB
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MongoDB/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/MongoDB/%E5%91%BD%E4%BB%A4/">
                     
										    命令
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										MySQL
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/MySQL/5.1SQL/">
                     
										    5.1SQL
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL/5.SQL/">
                     
										    5.SQL
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL/5.SQL2/">
                     
										    5.SQL2
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/5.SQL2changjing/">
                     
										    5.SQL2changjing
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/666.11.%E8%B0%83%E4%BC%98/">
                     
										    666.11.调优
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/666.5.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/">
                     
										    666.5.数据库设计
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/666.6.1%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88/">
                     
										    666.6.1索引失效
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/666.explain/">
                     
										    666.explain
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/666.%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF%E5%AE%9E%E8%B7%B5/">
                     
										    666.业务场景实践
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/666.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B9%B6%E5%8F%91%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90/">
                     
										    666.数据库并发问题分析
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/MySQL/9.%E5%91%BD%E4%BB%A4/">
                     
										    9.命令
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/InnoDB/">
                     
										    InnoDB
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF%E5%AE%9E%E8%B7%B5/">
                     
										    业务场景实践
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										MySQL2
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL2/1.%E7%AE%80%E4%BB%8B/">
                     
										    1.简介
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL2/10.%E5%88%86%E5%8C%BA/">
                     
										    10.分区
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL2/2.%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/">
                     
										    2.安装配置
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL2/3.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">
                     
										    3.数据类型
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL2/3.%E7%BC%96%E8%A7%A3%E7%A0%81/">
                     
										    3.编解码
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL2/4.%E8%BF%90%E7%AE%97%E7%AC%A6/">
                     
										    4.运算符
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL2/5.%E5%87%BD%E6%95%B0/">
                     
										    5.函数
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL2/6.SQL%E8%AF%AD%E5%8F%A5/">
                     
										    6.SQL语句
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file active">
									<a href="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/">
                     
										    7.1.InnoDB
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL2/7.2.%E5%85%B6%E4%BB%96%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/">
                     
										    7.2.其他存储引擎
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/21/DatabaseSystem/MySQL2/7.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/">
                     
										    7.数据库存储引擎
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL2/8.%E9%9B%86%E7%BE%A4/">
                     
										    8.集群
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL2/9.%E5%AE%89%E5%85%A8/">
                     
										    9.安全
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL2/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										client
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/05/27/DatabaseSystem/MySQL2/client/Flask-SQLAlchemy/">
                     
										    Flask-SQLAlchemy
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/27/DatabaseSystem/MySQL2/client/PyMySQL/">
                     
										    PyMySQL
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/26/DatabaseSystem/MySQL2/client/SQLAlchemy/">
                     
										    SQLAlchemy
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL2/client/TortoiseORM/">
                     
										    TortoiseORM
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL2/client/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										RabbitMQ
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/0.Erlang%E3%80%81OTP/">
                     
										    0.Erlang、OTP
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/1.%E5%9F%BA%E7%A1%80/">
                     
										    1.基础
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/10.Configuration/">
                     
										    10.Configuration
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/11.%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/">
                     
										    11.部署指南
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/12.%E9%9B%86%E7%BE%A4/">
                     
										    12.集群
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/13.Manage/">
                     
										    13.Manage
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/14.%E5%AE%A2%E6%88%B7%E7%AB%AF/">
                     
										    14.客户端
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/15.Subject/">
                     
										    15.Subject
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/16.TroubleShooting/">
                     
										    16.TroubleShooting
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/17.Monitor/">
                     
										    17.Monitor
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/18.Cluster/">
                     
										    18.Cluster
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/19.%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/">
                     
										    19.应用场景
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/2.VirtualHost/">
                     
										    2.VirtualHost
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/RabbitMQ/20.%E6%8F%92%E4%BB%B6/">
                     
										    20.插件
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/21.TLS%E6%94%AF%E6%8C%81/">
                     
										    21.TLS支持
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/22.%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/">
                     
										    22.性能测试
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/23.RabbitMQ%20rabbitmq.conf%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3/">
                     
										    23.RabbitMQ rabbitmq.conf配置文件详解
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/RabbitMQ/24.%E5%AE%9E%E8%B7%B5%E6%8A%80%E5%B7%A7/">
                     
										    24.实践技巧
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/3.User/">
                     
										    3.User
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/4.Message/">
                     
										    4.Message
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/5.Exchange/">
                     
										    5.Exchange
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/6.1.Classic%20Queue/">
                     
										    6.1.Classic Queue
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/6.2.Quorum%20Queue/">
                     
										    6.2.Quorum Queue
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/6.3.Stream%20Queue/">
                     
										    6.3.Stream Queue
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/6.Queue/">
                     
										    6.Queue
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/7.1.Channel/">
                     
										    7.1.Channel
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/7.Connection/">
                     
										    7.Connection
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/8.Producer/">
                     
										    8.Producer
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/9.Consumer/">
                     
										    9.Consumer
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Redis
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/07/01/DatabaseSystem/Redis/1.%E7%AE%80%E4%BB%8B/">
                     
										    1.简介
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/19/DatabaseSystem/Redis/10.%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/">
                     
										    10.最佳实践
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Redis/11.Lua%E8%84%9A%E6%9C%AC/">
                     
										    11.Lua脚本
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										11.client
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Redis/11.client/Jedis/">
                     
										    Jedis
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Redis/11.client/Lettuce/">
                     
										    Lettuce
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Redis/11.client/python-redis-lock/">
                     
										    python-redis-lock
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Redis/11.client/redispy/">
                     
										    redispy
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										12.业务实战
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/11/29/DatabaseSystem/Redis/12.%E4%B8%9A%E5%8A%A1%E5%AE%9E%E6%88%98/1.OpenResty/">
                     
										    1.OpenResty
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Redis/12.%E4%B8%9A%E5%8A%A1%E5%AE%9E%E6%88%98/2.%E5%A4%9A%E7%BA%A7%E7%BC%93%E5%AD%98%E6%96%B9%E6%A1%88/">
                     
										    2.多级缓存方案
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Redis/12.%E4%B8%9A%E5%8A%A1%E5%AE%9E%E6%88%98/3.%E5%85%B6%E4%BB%96/">
                     
										    3.其他
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/Redis/12.%E4%B8%9A%E5%8A%A1%E5%AE%9E%E6%88%98/4.%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8/">
                     
										    4.布隆过滤器
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/07/01/DatabaseSystem/Redis/2.%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/">
                     
										    2.安装配置
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/07/02/DatabaseSystem/Redis/3.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">
                     
										    3.数据类型
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/17/DatabaseSystem/Redis/4.%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                     
										    4.底层数据结构
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/18/DatabaseSystem/Redis/5.%E5%91%BD%E4%BB%A4/">
                     
										    5.命令
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/19/DatabaseSystem/Redis/6.%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/">
                     
										    6.内存管理
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/19/DatabaseSystem/Redis/7.%E9%9B%86%E7%BE%A4/">
                     
										    7.集群
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/17/DatabaseSystem/Redis/8.%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B/">
                     
										    8.网络模型
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/19/DatabaseSystem/Redis/8.%E9%83%A8%E7%BD%B2/">
                     
										    8.部署
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/17/DatabaseSystem/Redis/9.%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/">
                     
										    9.通信协议
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Tool
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Tool/DBeaver/">
                     
										    DBeaver
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Data
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										文件格式
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/BSON/">
                     
										    BSON
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/23/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/CSV/">
                     
										    CSV
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/JSON/">
                     
										    JSON
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/Markdown/">
                     
										    Markdown
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/23/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/TSV/">
                     
										    TSV
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/XML/">
                     
										    XML
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/YAML/">
                     
										    YAML
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/ini/">
                     
										    ini
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/properties/">
                     
										    properties
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Design
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/Design/%E5%93%88%E5%B8%8C%E4%B8%80%E8%87%B4%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">
                     
										    哈希一致解决方案
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Design/%E6%9E%B6%E6%9E%84%E6%BC%94%E5%8F%98/">
                     
										    架构演变
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Design/%E7%BC%93%E5%AD%98%E7%BB%BC%E5%90%88%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">
                     
										    缓存综合解决方案
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Mantaince
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/Mantaince/Jenkins/">
                     
										    Jenkins
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Mantaince/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/Question/">
                     
										    Question
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										SystemDesign
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/IM%E7%B3%BB%E7%BB%9F/">
                     
										    IM系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E4%BA%8C%E7%BB%B4%E7%A0%81%E7%B3%BB%E7%BB%9F/">
                     
										    二维码系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E4%BC%9A%E5%91%98%E7%B3%BB%E7%BB%9F/">
                     
										    会员系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E5%88%86%E5%B8%83%E5%BC%8F%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA%E6%9C%8D%E5%8A%A1/">
                     
										    分布式链路追踪服务
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E5%9C%A8%E7%BA%BF%E6%95%99%E8%82%B2%E7%B3%BB%E7%BB%9F/">
                     
										    在线教育系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E5%A4%A7%E6%B5%81%E9%87%8F%E9%97%A8%E6%88%B7%E7%AB%99%E5%86%85%E4%BF%A1/">
                     
										    大流量门户站内信
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD/">
                     
										    扫码登录功能
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E7%94%B5%E5%95%86%E7%B3%BB%E7%BB%9F/">
                     
										    电商系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/03/09/SystemDesign/%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E7%B3%BB%E7%BB%9F/">
                     
										    电子邮件系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/SystemDesign/%E7%9F%AD%E9%93%BE%E7%B3%BB%E7%BB%9F/">
                     
										    短链系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F/">
                     
										    秒杀系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E8%A7%86%E9%A2%91%E7%B3%BB%E7%BB%9F/">
                     
										    视频系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Test
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/Test/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/Test/%E5%8E%8B%E6%B5%8B%E5%B7%A5%E5%85%B7/">
                     
										    压测工具
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Test/%E6%A6%82%E8%BF%B0/">
                     
										    概述
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/Test/%E6%B5%81%E9%87%8F%E6%8B%B7%E8%B4%9D/">
                     
										    流量拷贝
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Tool
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/Anki/">
                     
										    Anki
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/Clash/">
                     
										    Clash
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/04/01/Tool/Cron%E8%A1%A8%E8%BE%BE%E5%BC%8F/">
                     
										    Cron表达式
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/Electron/">
                     
										    Electron
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/26/Tool/Git/">
                     
										    Git
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/26/Tool/GoogleChrome/">
                     
										    GoogleChrome
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/Graphviz/">
                     
										    Graphviz
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/He3/">
                     
										    He3
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/26/Tool/Hexo/">
                     
										    Hexo
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/JetBrainTool/">
                     
										    JetBrainTool
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/LaTex/">
                     
										    LaTex
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/License/">
                     
										    License
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/PDManer/">
                     
										    PDManer
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/Poedit/">
                     
										    Poedit
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/26/Tool/Postman/">
                     
										    Postman
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/29/Tool/SSH/">
                     
										    SSH
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/24/Tool/Slidev/">
                     
										    Slidev
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/StylePix/">
                     
										    StylePix
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/11/30/Tool/VMware/">
                     
										    VMware
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/29/Tool/VSCode/">
                     
										    VSCode
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/VisualStudioCode/">
                     
										    VisualStudioCode
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/WinMerge/">
                     
										    WinMerge
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/Windows%E5%B7%A5%E5%85%B7/">
                     
										    Windows工具
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/29/Tool/cURL/">
                     
										    cURL
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/labelImg/">
                     
										    labelImg
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7/">
                     
										    代码生成工具
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/24/Tool/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/">
                     
										    内网穿透
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/%E5%BC%80%E5%8F%91%E4%B8%93%E7%94%A8%E7%BC%A9%E7%95%A5%E8%AF%8D/">
                     
										    开发专用缩略词
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">
                     
										    正则表达式
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/">
                     
										    测试工具
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/23/Tool/%E7%94%BB%E5%9B%BE/">
                     
										    画图
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8/">
                     
										    视频播放器
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/%E8%AF%AD%E4%B9%89%E5%8C%96%E7%89%88%E6%9C%AC/">
                     
										    语义化版本
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/%E8%B4%9D%E9%94%90/">
                     
										    贝锐
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										WebDevelopment
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Container
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/12/24/WebDevelopment/Container/Docker/">
                     
										    Docker
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Container/VMware/">
                     
										    VMware
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Pandect
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/WebDevelopment/Pandect/Consul/">
                     
										    Consul
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/29/WebDevelopment/Pandect/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/RPC/">
                     
										    RPC
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/Ribbon%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1+OpenFeign%E8%BF%9C%E7%A8%8BHTTP%E8%B0%83%E7%94%A8/">
                     
										    Ribbon负载均衡+OpenFeign远程HTTP调用
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/Web%E8%AF%B7%E6%B1%82%E9%93%BE%E8%B7%AF%E4%B8%AD%E7%9A%84%E7%BC%93%E5%AD%98/">
                     
										    Web请求链路中的缓存
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/">
                     
										    分布式事务
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/%E5%A3%B0%E6%98%8E%E5%BC%8F%E4%BA%8B%E5%8A%A1%E8%BF%98%E6%98%AF%E7%BC%96%E7%A8%8B%E5%BC%8F%E4%BA%8B%E5%8A%A1/">
                     
										    声明式事务还是编程式事务
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/WebDevelopment/Pandect/%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91%E9%80%9A%E7%94%A8%E5%A5%97%E8%B7%AF/">
                     
										    接口开发通用套路
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/%E6%9E%B6%E6%9E%84/">
                     
										    架构
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/%E7%BD%91%E7%AB%99%E6%94%BB%E5%87%BB/">
                     
										    网站攻击
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/%E8%B7%A8%E5%9F%9F/">
                     
										    跨域
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/%E9%80%9F%E8%AE%B0%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83/">
                     
										    速记命名规范
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83%EF%BC%8C%E6%9C%8D%E5%8A%A1%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E9%85%8D%E7%BD%AE/">
                     
										    配置中心，服务自动更新配置
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/%E9%94%81/">
                     
										    锁
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/WebDevelopment/Pandect/%E9%99%90%E6%B5%81%E7%AE%97%E6%B3%95/">
                     
										    限流算法
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										PythonWeb
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/PythonWeb/Bottle/">
                     
										    Bottle
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/07/WebDevelopment/PythonWeb/Django/">
                     
										    Django
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/PythonWeb/FastAPI/">
                     
										    FastAPI
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/10/WebDevelopment/PythonWeb/Flask/">
                     
										    Flask
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/PythonWeb/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/PythonWeb/Tornado/">
                     
										    Tornado
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										WebServer
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/WebServer/CGI/">
                     
										    CGI
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/WebServer/LVS/">
                     
										    LVS
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/WebServer/gunicorn/">
                     
										    gunicorn
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/WebServer/uWSGI/">
                     
										    uWSGI
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/WebServer/uvicron/">
                     
										    uvicron
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Web%E5%BC%80%E5%8F%91%E5%85%B1%E8%AF%86/">
                     
										    Web开发共识
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/10/WebDevelopment/%E5%88%86%E5%B8%83%E5%BC%8F%E5%94%AF%E4%B8%80ID/">
                     
										    分布式唯一ID
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%94%9F%E6%80%81/">
                     
										    微服务生态
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/30/WebDevelopment/%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1/">
                     
										    接口设计
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/27/WebDevelopment/%E6%95%B0%E6%8D%AE%E5%88%86%E9%A1%B5%E6%96%B9%E5%BC%8F/">
                     
										    数据分页方式
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/">
                     
										    文件操作
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/%E7%BC%93%E5%AD%98%E6%96%B9%E6%A1%88/">
                     
										    缓存方案
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										backup
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/backup/k8s%20(copy)%20(copy)/">
                     
										    k8s (copy) (copy)
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/backup/k8s%20(copy)/">
                     
										    k8s (copy)
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/backup/k8s/">
                     
										    k8s
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/httpshelp/">
                     
										    httpshelp
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
		</div>
	</div>
</div>

	<!-- 引入正文 -->
	<div id="content" class="content">
		<h1 id="article-title">
	InnoDB 存储引擎
</h1>

<!-- meta -->
<div class="article-meta">
	

	<span>予早</span>
	<span>2025-09-01 00:56:00</span>

  <div id="article-categories">
    
		  <span>Categories：</span>
      
    

    
		    <span>Tags：</span>
        
    
  </div>

</div>

<!-- content -->
<div id="article-content">
	<h2 id="InnoDB-架构"><a href="#InnoDB-架构" class="headerlink" title="InnoDB 架构"></a>InnoDB 架构</h2><p><img src="/7.1.InnoDB.assets/innodb-architecture-8-0.png" alt="InnoDB-architecture"></p>
<h3 id="内存结构"><a href="#内存结构" class="headerlink" title="内存结构"></a>内存结构</h3><h4 id="缓冲池，Buffer-Pool"><a href="#缓冲池，Buffer-Pool" class="headerlink" title="缓冲池，Buffer Pool"></a>缓冲池，Buffer Pool</h4><p>缓冲池是主内存中的一个区域，其以页为存储单位，InnoDB 在访问磁盘上数据页和索引页时会对其进行缓存。缓冲池允许直接从内存访问常用数据，从而加快处理速度。在专用服务器上，通常会将高达 80% 的物理内存分配给缓冲池。</p>
<p><strong>BufferPool：缓冲池是主内存中的一个区域，里面可以缓存磁盘上经常操作的真实数据，在执行增删改查操作时，先操作缓冲池中的数据（若缓冲池没有数据，则从磁盘加载并缓存），然后再以一定频率刷新到磁盘，从而减少磁盘I&#x2F;O，加快处理速度。</strong></p>
<p><strong>缓冲池以Page页为单位，底层采用链表数据结构管理Page。根据状态，将Page分为三种类型：</strong></p>
<ul>
<li><strong>free page：空闲page，未被使用。</strong></li>
<li><strong>clean page：被使用page，数据没有被修改过。</strong></li>
<li><strong>dirty page：脏页，被使用page，数据被修改过，其数据与磁盘的数据产生了不一致。</strong></li>
</ul>
<p>缓冲池以最近最少使用（LRU）算法变体管理数据。</p>
<p><img src="https://dev.mysql.com/doc/refman/8.4/en/images/innodb-buffer-pool-list.png" alt="LRU"></p>
<ol>
<li>缓冲池被组织为一个链表，该链表由两个页链表 new sublist、old sublist 构成，其中 new sublist 占缓冲池的$&#x2F;frcc{5}{8}$，old sublist 占缓冲池的$&#x2F;frac{3}{8}$，列表的中点是新子列表的尾部与旧子列表的头部相交的边界。</li>
<li>InnoDB 读取页时，首先从缓冲池中获取，若没有再从磁盘中读取并将页缓存至缓冲池。页读取有两种原因，一是用户发起操作（例如，SQL查询），二是 InnoDB <a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_read_ahead">预读</a>。</li>
<li>InnoDB 读取页时，若缓冲池中没有，最初会将页面插入到中点（插入中点的数据会被放到旧子列表的头部），旧子链表其余节点后移（衰老化），若插入时旧子列表满，则会驱逐尾部页出链表然后再插入。插入中点后，根据页读取发生的原因，有不同行为：<ul>
<li>若页读取由用户发起操作触发，页被移动至新子链表头部（页直接年轻化，详细参见命中缓存时步骤）</li>
<li>若页读取由InnoDB预读触发，页留在旧子链表保持不动（下一次读取该页时会命中缓存触发年轻化）</li>
</ul>
</li>
<li>InnoDB 读取页时，若缓冲池中存在，则根据页所在子链表不同有不同行为：<ul>
<li>若页在新子链表，则页会被移动至新链表头部（年轻化）</li>
<li>若页在旧子链表，则页会被移动至新链表头部（年轻化），新链表其余节点后移（衰老化），若页移动至新子链表时新子链表满，则会将其尾部节点衰老至旧子链表然后再插入。</li>
</ul>
</li>
</ol>
<p>使用<code>SHOW ENGINE INNODB STATUS;</code>查看<code>BUFFER POOL AND MEMORY</code>。</p>
<pre><code>----------------------
BUFFER POOL AND MEMORY
----------------------
Total large memory allocated 2347368448
Dictionary memory allocated 11854139
Buffer pool size   130432
Free buffers       3087
Database pages     127007
Old database pages 47035
Modified db pages  5260
Pending reads      0
Pending writes: LRU 0, flush list 0, single page 0
Pages made young 773726113, not young 25367121616
6.05 youngs/s, 1169.02 non-youngs/s
Pages read 2250350690, created 154709943, written 2179642334
151.37 reads/s, 3.05 creates/s, 53.62 writes/s
Buffer pool hit rate 1000 / 1000, young-making rate 0 / 1000 not 5 / 1000
Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s
LRU len: 127007, unzip_LRU len: 0
I/O sum[60976]:cur[7312], unzip sum[0]:cur[0]
</code></pre>
<h4 id="更改缓冲区，Change-Buffer"><a href="#更改缓冲区，Change-Buffer" class="headerlink" title="更改缓冲区，Change Buffer"></a>更改缓冲区，Change Buffer</h4><p><img src="https://dev.mysql.com/doc/refman/8.4/en/images/innodb-change-buffer.png" alt="ChangeBuffer"></p>
<p>更改缓冲区用以优化索引页更改场景（INSERT、UPDATE、DELETE）下磁盘大量随机访问IO问题：与<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_clustered_index">聚集索引</a>不同，二级索引通常是非唯一的，并且向二级索引中插入数据的顺序相对随机。同样，删除和更新操作可能会影响索引树中不相邻的二级索引页。对二级索引页的操作容易引起大量随机访问IO。</p>
<p>当<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_secondary_index">二级索引</a>页不在<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_buffer_pool">缓冲池</a>中时，更改缓冲区会缓存对索引页的更改。这些缓冲的更改可能源于<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/insert.html"><code>INSERT</code></a>、<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/update.html"><code>UPDATE</code></a>或<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/delete.html"><code>DELETE</code></a>操作（数据操纵语言），稍后当其他读取操作将这些页面加载到缓冲池中时，这些更改会被合并。</p>
<p>当其他操作将受影响的页读入缓冲池时，在稍后合并缓存的更改，可避免将二级索引页从磁盘读入缓冲池所需的大量随机访问 I&#x2F;O。</p>
<h4 id="自适应哈希索引，Adaptive-Hash-Index"><a href="#自适应哈希索引，Adaptive-Hash-Index" class="headerlink" title="自适应哈希索引，Adaptive Hash Index"></a>自适应哈希索引，Adaptive Hash Index</h4><p>当启用时，InnoDB 会根据查询访问模式自动为经常使用的索引页创建哈希索引，从而加速等值查询（<code>=</code> 查询）。</p>
<p>自适应哈希索引使<code>InnoDB</code>在工作负载与缓冲池内存足够的系统上，能更像内存数据库一样运行，同时又不牺牲事务特性和可靠性。自适应哈希索引可通过<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_adaptive_hash_index"><code>innodb_adaptive_hash_index</code></a>变量禁用，也可在服务器启动时通过<code>--innodb-adaptive-hash-index</code>启用。</p>
<p>根据观察到的搜索模式，会使用索引键的前缀来构建哈希索引。前缀可以是任意长度，而且可能只有B树中的部分值会出现在哈希索引中。哈希索引是根据经常被访问的索引页面按需构建的。</p>
<pre><code class="sql">SHOW VARIABLES LIKE &#39;innodb_adaptive_hash_index&#39;;
SHOW VARIABLES LIKE &#39;innodb_adaptive_hash_index_parts&#39;;
</code></pre>
<h4 id="日志缓冲区，Log-Buffer"><a href="#日志缓冲区，Log-Buffer" class="headerlink" title="日志缓冲区，Log Buffer"></a>日志缓冲区，Log Buffer</h4><p>日志缓冲区是一个内存区域，用于存放将要写入磁盘上日志文件的数据。日志缓冲区的大小由变量定义。默认大小为64MB。日志缓冲区的内容会定期刷新到磁盘。较大的日志缓冲区能让大型事务在运行时，无需在提交前将重做日志数据写入磁盘。因此，如果您有更新、插入或删除大量行的事务，增大日志缓冲区的大小可以节省磁盘I&#x2F;O。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_log_buffer_size"><code>innodb_log_buffer_size</code></a>变量：控制日志缓冲区大小，默认大小为 64 MB。</li>
<li><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_flush_log_at_trx_commit"><code>innodb_flush_log_at_trx_commit</code></a>变量：控制日志缓冲区的内容如何写入并刷新到磁盘。<ul>
<li>默认设置为1是完全符合ACID的必要条件。日志在每次事务提交时写入并刷新到磁盘。</li>
<li>当设置为0时，日志会每秒写入并刷新到磁盘一次。尚未刷新日志的事务在崩溃时可能会丢失。</li>
<li>当设置为2时，日志会在每次事务提交后写入，并每秒刷新到磁盘一次。尚未刷新日志的事务可能会在崩溃中丢失。</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_flush_log_at_timeout"><code>innodb_flush_log_at_timeout</code></a>变量：控制日志刷新频率。</li>
</ul>
<h3 id="磁盘结构"><a href="#磁盘结构" class="headerlink" title="磁盘结构"></a>磁盘结构</h3><h4 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h4><p>索引是一个单独的、存储在磁盘上的数据库结构，包含着对数据表里所有记录的引用指针。使用索引可以快速找出在某个或多个列中有一特定值的行，所有MySQL列类型都可以被索引，对相关列使用索引是提高查询操作速度的最佳途径。</p>
<p>索引是在存储引擎中实现的，每种存储引擎的索引都不一定完全相同，并且每种存储引擎也不一定支持所有索引类型。MySQL中索引的存储类型有两种，即BTREE和HASH，具体和表的存储引擎相关。MyISAM和InnoDB存储引擎只支持BTREE索引；MEMORY&#x2F;HEAP存储引擎可以支持HASH和BTREE索引。</p>
<p>索引的优点：</p>
<ol>
<li>通过创建唯一索引，可以保证数据库表中每一行数据的唯一性。</li>
<li>可以大大加快数据的查询速度，这也是创建索引的主要原因。</li>
<li>在实现数据的参考完整性方面，可以加速表和表之间的连接。</li>
<li>在使用分组和排序子句进行数据查询时，也可以显著减少查询中分组和排序的时间。</li>
</ol>
<p>索引的缺点：</p>
<ol>
<li>创建索引和维护索引要耗费时间，并且随着数据量的增加所耗费的时间也会增加。</li>
<li>索引需要占磁盘空间，除了数据表占数据空间之外，每一个索引还要占一定的物理空间，如果有大量的索引，索引文件可能比数据文件更快达到最大文件尺寸。</li>
<li>当对表中的数据进行增加、删除和修改的时候，索引也要动态地维护，这样就降低了数据的维护速度。</li>
</ol>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h5 id="按逻辑约束分类"><a href="#按逻辑约束分类" class="headerlink" title="按逻辑约束分类"></a>按逻辑约束分类</h5><ol>
<li>主键（PRIMARY）：唯一且 NOT NULL</li>
<li>唯一（UNIQUE）：唯一但允许 NULL，若为单列唯一索引，允许多个 NULL 列，若为联合唯一索引，则？？？</li>
<li>普通（INDEX）</li>
<li>全文（FULLTEXT）</li>
<li>空间（SPATIAL）</li>
</ol>
<h5 id="按物理存储分类"><a href="#按物理存储分类" class="headerlink" title="按物理存储分类"></a>按物理存储分类</h5><p>聚簇索引</p>
<p>聚簇索引叶子节点会指向数据，每个表都会有一个聚簇索引，聚簇索引生成策略如下：</p>
<ol>
<li>有定义主键以主键索引为聚簇索引</li>
<li>未定义主键，则选用第一个所有键列均为 NOT NULL 的 UNIQUE 索引</li>
<li>无合适唯一索引，则使用行ID生成一个名为 GEN_CLUST_INDEX 的索引，行 ID 为 6 字节</li>
</ol>
<p>二级索引</p>
<p>聚集索引以外的索引称为二级索引。在 InnoDB中，二级索引中的每条记录都包含该行的主键列以及为二级索引指定的列。 InnoDB使用这个主键值在聚集索引中搜索该行。</p>
<blockquote>
<p>[!TIP]</p>
<p>由于二级索引中包含主键索引中的列，故设计较短的主键有利于节省二级索引占用空间。</p>
</blockquote>
<h5 id="索引物理结构"><a href="#索引物理结构" class="headerlink" title="索引物理结构"></a>索引物理结构</h5><p>InnoDB 中索引由不同物理结构所实现：</p>
<ol>
<li>主键索引、唯一索引、普通索引基于B+树。</li>
<li>全文索引基于倒排索引。</li>
<li>空间索引基于R树。</li>
</ol>
<h6 id="B-Tree"><a href="#B-Tree" class="headerlink" title="B+Tree"></a>B+Tree</h6><p>B+树由B树和索引顺序访问方法演化而来，它是为磁盘或其他直接存取辅助设备设计的一种平衡查找树，在B+树中，所有记录节点都是按键值的大小顺序存放在同一层的叶子节点，各叶子节点通过指针进行链接。如下图：</p>
<p><img src="/7.1.InnoDB.assets/FB148499A73DF0C97F7930BA0466170E.jpeg" alt="img"></p>
<p><img src="/7.1.InnoDB.assets/image-20250830151749829.png" alt="image-20250830151749829"></p>
<p>B+树索引在数据库中的一个特点就是高扇出性，例如在InnoDB存储引擎中，每个页的大小为16KB。在数据库中，B+树的高度一般都在2～4层，这意味着查找某一键值最多只需要2到4次IO操作，这还不错。因为现在一般的磁盘每秒至少可以做100次IO操作，2～4次的IO操作意味着查询时间只需0.02～0.04秒。</p>
<p>索引顺序访问方法(indexed sequential access method), 索引顺序存取方法, 索引循序存取方法</p>
<p>在MySQL中，索引是在存储引擎层实现的，不同存储引擎对索引的实现方式是不同的，下面我们探讨一下MyISAM和InnoDB两个存储引擎的索引实现方式。</p>
<p>MyISAM索引实现：</p>
<p>MyISAM引擎使用B+Tree作为索引结构，叶节点的data域存放的是数据记录的地址，MyISAM索引的原理图如下。这里假设表一共有三列，假设我们以Col1为主键，则上图是一个MyISAM表的主索引（Primary key）示意。可以看出MyISAM的索引文件仅仅保存数据记录的地址。在MyISAM中，主索引和辅助索引（Secondary key）在结构上没有任何区别，只是主索引要求key是唯一的，而辅助索引的key可以重复。</p>
<p><img src="/7.1.InnoDB.assets/B6A769BBCE3D6116F2514841EA0AB92D.png" alt="img"></p>
<p>如果我们在Col2上建立一个辅助索引，则此索引的结构如下图所示。同样也是一颗B+Tree，data域保存数据记录的地址。因此，MyISAM中索引检索的算法为首先按照B+Tree搜索算法搜索索引，如果指定的Key存在，则取出其data域的值，然后以data域的值为地址，读取相应数据记录。</p>
<p><img src="/7.1.InnoDB.assets/911E67ED440AC5388F07D79E4988BD69.png" alt="img"></p>
<p>InnoDB索引实现：</p>
<p>虽然InnoDB也使用B+Tree作为索引结构，但具体实现方式却与MyISAM截然不同。</p>
<p>第一个重大区别是InnoDB的数据文件本身就是索引文件。从上文知道，MyISAM索引文件和数据文件是分离的，索引文件仅保存数据记录的地址。而在InnoDB中，表数据文件本身就是按B+Tree组织的一个索引结构，这棵树的叶节点data域保存了完整的数据记录。这个索引的key是数据表的主键，因此InnoDB表数据文件本身就是主索引。</p>
<p>下图是InnoDB主索引（同时也是数据文件）的示意图，可以看到叶节点包含了完整的数据记录。这种索引叫做聚集索引。因为InnoDB的数据文件本身要按主键聚集，所以InnoDB要求表必须有主键（MyISAM可以没有），如果没有显式指定，则MySQL系统会自动选择一个可以唯一标识数据记录的列作为主键，如果不存在这种列，则MySQL自动为InnoDB表生成一个隐含字段作为主键，这个字段长度为6个字节，类型为长整形。</p>
<p><img src="/7.1.InnoDB.assets/E93917AAC699168036AF5C36393FFC04.png" alt="img"></p>
<p>第二个与MyISAM索引的不同是InnoDB的辅助索引data域存储相应记录主键的值而不是地址。换句话说，InnoDB的所有辅助索引都引用主键作为data域。下图为定义在Col3上的一个辅助索引。这里以英文字符的ASCII码作为比较准则。聚集索引这种实现方式使得按主键的搜索十分高效，但是辅助索引搜索需要检索两遍索引：首先检索辅助索引获得主键，然后用主键到主索引中检索获得记录。</p>
<p><img src="/7.1.InnoDB.assets/84DF5715E092FEF25762F5F53C547640.png" alt="img"></p>
<p>了解不同存储引擎的索引实现方式对于正确使用和优化索引都非常有帮助，例如知道了InnoDB的索引实现后，就很容易明白为什么不建议使用过长的字段作为主键，因为所有辅助索引都引用主索引，过长的主索引会令辅助索引变得过大。再例如，用非单调的字段作为主键在InnoDB中不是个好主意，因为InnoDB数据文件本身是一颗B+Tree，非单调的主键会造成在插入新记录时数据文件为了维持B+Tree的特性而频繁的分裂调整，十分低效，而使用自增字段作为主键则是一个很好的选择。</p>
<h6 id="R-Tree"><a href="#R-Tree" class="headerlink" title="R Tree"></a>R Tree</h6><p>除空间索引外，<code>InnoDB</code>索引均为<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_b_tree">B 树</a>数据结构。空间索引使用<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_r_tree">R 树</a>，这是一种专门用于索引多维数据的数据结构。索引记录存储在其 B 树或 R 树数据结构的叶页中。索引页的默认大小为 16KB。页面大小由 MySQL 实例初始化时的<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_page_size"><code>innodb_page_size</code></a>设置决定。参见<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-init-startup-configuration.html">第 17.8.1 节，“InnoDB 启动配置”</a>。</p>
<p>当新记录插入到<br><code>InnoDB</code><br><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_clustered_index">聚集索引</a>中时，<br><code>InnoDB</code>会尝试保留页面的 1&#x2F;16 空间，以便将来插入和更新索引记录。如果索引记录按顺序（升序或降序）插入，生成的索引页大约会被填满 15&#x2F;16。如果记录以随机顺序插入，页面的填充程度会在 1&#x2F;2 到 15&#x2F;16 之间。</p>
<p><code>InnoDB</code>在创建或重建 B 树索引时会执行批量加载。这种索引创建方法被称为排序索引构建。<br><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_fill_factor"><code>innodb_fill_factor</code></a>变量定义了在排序索引构建过程中每个 B 树页面上被填充的空间百分比，剩余空间预留用于未来的索引增长。空间索引不支持排序索引构建。有关更多信息，请参见<br><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/sorted-index-builds.html">第 17.6.2.3 节，“排序索引构建”</a>。当<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_fill_factor"><code>innodb_fill_factor</code></a>设置为 100 时，会为未来的索引增长在聚集索引页中留出 1&#x2F;16 的空闲空间。</p>
<p>如果<code>InnoDB</code>索引页的填充因子降至<code>MERGE_THRESHOLD</code>以下（如果未指定，默认值为 50%），<code>InnoDB</code>会尝试收缩索引树以释放该页面。<code>MERGE_THRESHOLD</code>设置同时适用于 B 树索引和 R 树索引。有关更多信息，请参见<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/index-page-merge-threshold.html">第 17.8.11 节 “配置索引页的合并阈值”</a>。</p>
<h2 id="索引-1"><a href="#索引-1" class="headerlink" title="# 索引"></a># 索引</h2><p>优点</p>
<ol>
<li>提高数据查询效率，减低数据库IO成本</li>
<li>通过索引列对数据进行排序，降低数据排序成本，减低CPU开销</li>
</ol>
<p>缺点</p>
<ol>
<li>索引列占用额外空间</li>
<li>数据更新时需要对索引也进行更新，insert、update、delete等操作效率降低</li>
</ol>
<p>MySQL的索引实在存储引擎层实现的，不同的存储引擎对索引结构有着不同的实现</p>
<p>InnoDB支持B+树索引和全文索引</p>
<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20241022122518848.png" class="" title="image-20241022122518848">

<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20241022122636499.png" class="" title="image-20241022122636499">

<h3 id="hash"><a href="#hash" class="headerlink" title="hash"></a>hash</h3><img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220911132905816.png" class="" title="image-20220911132905816">

<h3 id="b-tree"><a href="#b-tree" class="headerlink" title="b+tree"></a>b+tree</h3><img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220911132309577.png" class="" title="image-20220911132309577">

<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220911132715338.png" class="" title="image-20220911132715338">





<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220911133303721.png" class="" title="image-20220911133303721">

<h3 id="索引分类"><a href="#索引分类" class="headerlink" title="索引分类"></a>索引分类</h3><img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220911133515673.png" class="" title="image-20220911133515673">

<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220911133808449.png" class="" title="image-20220911133808449">

<p>二级索引查询时还要回表查询</p>
<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220911134819787.png" class="" title="image-20220911134819787">







<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220911135524124.png" class="" title="image-20220911135524124">

<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220911140808891.png" class="" title="image-20220911140808891">



<h2 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h2><h4 id="表空间"><a href="#表空间" class="headerlink" title="表空间"></a>表空间</h4><h5 id="系统表空间，System-Tablespace"><a href="#系统表空间，System-Tablespace" class="headerlink" title="系统表空间，System Tablespace"></a>系统表空间，System Tablespace</h5><p>系统表空间存储更改缓冲区，以及存储表数据（若该表被指定创建在系统表空间）。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_data_file_path"><code>innodb_data_file_path</code></a>变量：控制系统表空间文件路径。</li>
</ul>
<h5 id="每表文件表空间，File-Per-Table-Tablespace"><a href="#每表文件表空间，File-Per-Table-Tablespace" class="headerlink" title="每表文件表空间，File-Per-Table Tablespace"></a>每表文件表空间，File-Per-Table Tablespace</h5><p>每表文件表空间包含单个InnoDB表的数据和索引，并以单个数据文件的形式存储在文件系统中（即一个表对应一个表空间）。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_file_per_table"><code>innodb_file_per_table</code></a>：系统变量</li>
</ul>
<h5 id="通用表空间，General-Tablespace"><a href="#通用表空间，General-Tablespace" class="headerlink" title="通用表空间，General Tablespace"></a>通用表空间，General Tablespace</h5><p>通用表空间是一个共享的<code>InnoDB</code>表空间。创建表时可以zhiding</p>
<p>它是使用<br><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/create-tablespace.html"><code>CREATETABLESPACE</code></a>语法创建的。本节的以下主题介绍了通用表空间的功能和特性：</p>
<h5 id="撤销表空间，Undo-Tablespace"><a href="#撤销表空间，Undo-Tablespace" class="headerlink" title="撤销表空间，Undo Tablespace"></a>撤销表空间，Undo Tablespace</h5><p>撤消表空间包含撤消日志，这些日志是记录的集合，其中包含有关如何撤消事务对聚集索引记录的最新更改的信息。</p>
<h5 id="临时表空间，Temporary-Tablespace"><a href="#临时表空间，Temporary-Tablespace" class="headerlink" title="临时表空间，Temporary Tablespace"></a>临时表空间，Temporary Tablespace</h5><h6 id="会话临时表空间，Session-Temporary-Tablespaces"><a href="#会话临时表空间，Session-Temporary-Tablespaces" class="headerlink" title="会话临时表空间，Session Temporary Tablespaces"></a>会话临时表空间，Session Temporary Tablespaces</h6><p>会话临时表空间存储用户创建的临时表以及当InnoDB被配置为磁盘内部临时表的存储引擎时，优化器创建的内部临时表。磁盘内部临时表使用InnoDB存储引擎。</p>
<h6 id="全局临时表空间，Global-Temporary-Tablespace"><a href="#全局临时表空间，Global-Temporary-Tablespace" class="headerlink" title="全局临时表空间，Global Temporary Tablespace"></a>全局临时表空间，Global Temporary Tablespace</h6><p>全局临时表空间（ibtmp1）存储对用户创建的临时表所做更改的回滚段。</p>
<h3 id="双写缓冲区，Doublewrite-Buffer"><a href="#双写缓冲区，Doublewrite-Buffer" class="headerlink" title="双写缓冲区，Doublewrite Buffer"></a>双写缓冲区，Doublewrite Buffer</h3><p>双写缓冲区是一个存储区域，在将从缓冲池刷新的页面写入<code>InnoDB</code>数据文件中的适当位置之前，<code>InnoDB</code>会先将这些页面写入该区域。如果在页面写入过程中，操作系统、存储子系统出现问题，或者<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/mysqld.html"><strong>mysqld</strong></a>进程意外退出，<code>InnoDB</code>可以在崩溃恢复期间从双写缓冲区中找到该页面的完好副本。</p>
<p>尽管数据会被写入两次，但双写缓冲区并不需要两倍的 I&#x2F;O 开销或两倍的 I&#x2F;O 操作。数据以一个大的连续块写入双写缓冲区，只需对操作系统进行一次<code>fsync()</code>调用（除非<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_flush_method"><code>innodb_flush_method</code></a>被设置为<code>O_DIRECT_NO_FSYNC</code>）。</p>
<p>doublewrite 缓冲区存储区域位于 doublewrite 文件中。</p>
<pre><code>SHOW VARIABLES LIKE &quot;%innodb_doublewrite%&quot;
</code></pre>
<h3 id="重做日志"><a href="#重做日志" class="headerlink" title="重做日志"></a>重做日志</h3><p>重做日志是一种基于磁盘的数据结构，在崩溃恢复期间用于更正不完整事务所写入的数据。在正常操作中，重做日志会对因 SQL 语句或低级 API 调用而产生的更改表数据的请求进行编码。在意外关闭前未能完成数据文件更新的修改，会在初始化期间以及接受连接之前自动重新执行。</p>
<h3 id="撤销日志"><a href="#撤销日志" class="headerlink" title="撤销日志"></a>撤销日志</h3><p>撤销日志是与单个读写事务相关联的一组撤销日志记录。一条撤销日志记录包含有关如何撤销事务对<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_clustered_index">聚簇索引</a>记录所做的最新更改的信息。如果另一个事务在一致性读操作中需要查看原始数据，那么未修改的数据会从撤销日志记录中获取。撤销日志存在于<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_undo_log_segment">撤销日志段</a>中，而撤销日志段又包含在<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_rollback_segment">回滚段</a>中。回滚段位于<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_undo_tablespace">撤销表空间</a>和<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_global_temporary_tablespace">全局临时表空间</a>中。</p>
<p>驻留在全局临时表空间中的撤销日志用于修改用户定义的临时表中数据的事务。这些撤销日志不会进行重做日志记录，因为崩溃恢复不需要它们。它们仅在服务器运行时用于回滚操作。这种类型的撤销日志通过避免重做日志记录的输入 &#x2F; 输出操作，有助于提升性能。</p>
<h2 id="InnoDB-锁"><a href="#InnoDB-锁" class="headerlink" title="InnoDB 锁"></a>InnoDB 锁</h2><h3 id="数据库锁体系"><a href="#数据库锁体系" class="headerlink" title="数据库锁体系"></a>数据库锁体系</h3><p>一切问题的根源来自读写并发：</p>
<ol>
<li>读读，可以</li>
<li>读写，读时不能写</li>
<li>写读，写时不能读</li>
<li>写写，写时不能写</li>
</ol>
<p>为保证读写并发安全性，数据库通常会使用三类方案：</p>
<ol>
<li>悲观锁方案：使用共享锁和排他锁解决读写并发问题</li>
<li>乐观锁方案：使用版本号解决并发写问题</li>
<li>无锁方案：允许读操作读取历史数据以避免与写锁冲突</li>
</ol>
<p>加锁方案为兼顾并发性能，通常会将资源分为不同粒度然后进行加锁，例如，关系型数据库存储引擎中通常有，全局锁、表级锁、页级锁、行级锁</p>
<p>InnoDB 中采用悲观锁方案和无锁方案：</p>
<ol>
<li>InnoDB 悲观锁中，实现了全局锁、表级锁、行级锁</li>
<li>无锁方案基于 MVCC 实现</li>
</ol>
<h3 id="全局锁，global-level-lock"><a href="#全局锁，global-level-lock" class="headerlink" title="全局锁，global-level lock"></a>全局锁，global-level lock</h3><p>全局锁对整个数据库加锁。</p>
<p>常用于全库备份场景，注意：</p>
<ol>
<li>若在主库备份，则备份期间主库只读，不能执行写操作。</li>
<li>若在从库备份，则备份期间从库不能执行由主库同步过来的二进制日志，会导致从库与主库数据不一致。</li>
</ol>
<pre><code class="sql">-- 注意，这里的库指的是show databases命令展示出来的库

-- 对全库加读锁，库变为只读状态
FLUSH TABLES WITH READ LOCK;

-- 解除全局锁
unlock tables;
</code></pre>
<p><img src="/7.1.InnoDB.assets/image-20241021225036100.png" alt="image-20241021225036100"></p>
<p>在InnoDB引擎中，可以在备份时加上<code>--sinigle-transaction</code>参数完成不加锁的数据备份。</p>
<pre><code class="shell">mysqldump --single-transaction -u root -p 123456 t_department &gt; t_department.sql
</code></pre>
<h3 id="表级锁，table-level-lock"><a href="#表级锁，table-level-lock" class="headerlink" title="表级锁，table-level lock"></a>表级锁，table-level lock</h3><p>表级锁是悲观锁。数据库连接断开时会自动释放锁。</p>
<h5 id="自增锁"><a href="#自增锁" class="headerlink" title="自增锁"></a>自增锁</h5><p>事务回滚时自增字段不会回滚。</p>
<ul>
<li><code>innodb_autoinc_lock_mode=0</code>：传统锁定模式（Traditional），这是在MySQL 5.1.22版本之前的方式，所有INSERT-LIKE操作都使用AUTO-INC locking。这种模式下，自增锁会在插入语句执行完毕后释放，而不是在事务提交时释放。</li>
<li><code>innodb_autoinc_lock_mode=1</code>：连续锁定模式（Consecutive），这是MySQL 5.1.22版本之后默认的模式。对于简单的插入操作，使用轻量级互斥锁，而对于批量插入操作，使用AUTO-INC locking。这种模式下，”Simple insert”操作能在插入前知道插入的记录数量，因此无需在整个插入操作过程中持有表级别的AUTO-INC锁，MySQL通过轻量级互斥锁来控制INSERT操作获取自增值的过程，并在INSERT操作获取到自增值后快速释放互斥锁。</li>
<li><code>innodb_autoinc_lock_mode=2</code>：交错锁定模式（Interleaved），在这种模式下，不管什么情况都使用轻量级互斥的锁，效率最高，但是复制只能使用row-base replication，因为statement-base replication会出现问题。</li>
</ul>
<h5 id="元数据锁"><a href="#元数据锁" class="headerlink" title="元数据锁"></a>元数据锁</h5><p>元数据锁，meta data lock，MDL，对表结构做更新时加锁。</p>
<p>元数据锁也是基于一般表锁和意向锁体系的。</p>
<p><img src="/7.1.InnoDB.assets/image-20241021233726895.png" alt="image-20241021233726895"></p>
<p>查看元数据锁</p>
<pre><code class="sql">select object_type, object_schema, object_name, lock_type, lock_duration from performance_schema.metadata_locks;
</code></pre>
<p><img src="/7.1.InnoDB.assets/image-20241021234029600.png" alt="image-20241021234029600"></p>
<h5 id="一般表锁"><a href="#一般表锁" class="headerlink" title="一般表锁"></a>一般表锁</h5><p>共享读锁，shared read</p>
<p><img src="/7.1.InnoDB.assets/image-20241021233455116.png" alt="image-20241021233455116"></p>
<pre><code class="sql">LOCK TABLES department READ;
unlock tables department;
</code></pre>
<p>排他锁，exclusive write</p>
<p><img src="/7.1.InnoDB.assets/image-20241021233505904.png" alt="image-20241021233505904"></p>
<pre><code class="sql">LOCK TABLES department WRITE;
unlock tables department;
</code></pre>
<h5 id="意向锁"><a href="#意向锁" class="headerlink" title="意向锁"></a>意向锁</h5><p>意向锁，Intention Lock，MyISAM、InnoDB都支持</p>
<p>为避免加表锁时，与其他事务中因执行DML而持有的行锁冲突，在InnoDB中引入了意向锁，使得加表锁时无需检查每行数据是否加锁，意向锁优化了一般表级锁的加锁开销。</p>
<p>未引入意向锁时，当A事务更新某一行数据时，事务B期望对表加锁需要检查每一行数据加锁情况。</p>
<p><img src="/7.1.InnoDB.assets/image-20241021235547108.png" alt="image-20241021235547108"></p>
<p>引入意向锁后，当事务A更新某一行数据时，需要先对表加意向锁，然后对行加锁，事务B期望对表加锁时直接检查表的意向锁即可。</p>
<p><img src="/7.1.InnoDB.assets/image-20241021235718563.png" alt="image-20241021235718563"></p>
<p>意向共享锁，Intention Share</p>
<ul>
<li>由<code>select * from department lock in share mode;</code>添加</li>
</ul>
<p>意向排他锁。Intention Exclusive </p>
<ul>
<li>由<code>select * from department for update;</code>添加</li>
<li>insert</li>
<li>update</li>
<li>delete</li>
</ul>
<pre><code class="sql">select * from department lock in share mode;
</code></pre>
<pre><code class="sql">begin;
-- 加意向锁锁和行锁
select * from department lock in share mode;
-- 查看意向锁
select object_schema, object_name, index_name, lock_type, lock_mode, lock_data from performance_schema.data_locks;
commit;
</code></pre>
<p><img src="/7.1.InnoDB.assets/image-20241022001115713.png" alt="image-20241022001115713"></p>
<p>supremum pseudo-record</p>
<h3 id="行级锁，row-level-lock"><a href="#行级锁，row-level-lock" class="headerlink" title="行级锁，row-level lock"></a>行级锁，row-level lock</h3><p>每次操作锁定对应的行数据或者某一个行范围的数据。</p>
<p>InnoDB支持</p>
<p>InnoDB行锁是通过给索引上的索引项加锁来实现的，Innodb一定存在聚簇索引，行锁最终都会落到聚簇索引上，通过非聚簇索引查询的时候，先锁非聚簇索引，然后再锁聚簇索引。</p>
<h5 id="记录锁"><a href="#记录锁" class="headerlink" title="记录锁"></a>记录锁</h5><p>Record Lock，将精准匹配的精准记录锁住。已提交读和可重复读隔离级别均生效。</p>
<p>锁定单个行记录，</p>
<h5 id="间隙锁"><a href="#间隙锁" class="headerlink" title="间隙锁"></a>间隙锁</h5><p>Gap Lock，可重复读级别生效，已提交读无效。</p>
<p>锁定记录间隙（不含边界记录），确保记录间隙中不会被更新数据。</p>
<h5 id="临键锁"><a href="#临键锁" class="headerlink" title="临键锁"></a>临键锁</h5><p>Next-Key Lock，临键锁，记录锁和间隙锁组合，锁住一个闭区间的记录。已提交读级别无效，可重复读级别生效。</p>
<p>默认情况下，InnoDB在可重复读级别下运行，采用临键锁。注意，InnoDB的行锁是针对索引加的锁，若不通过索引操作数据，则InnoDB将全表扫描对全表加锁，此时行锁升级为表锁。</p>
<p><img src="/7.1.InnoDB.assets/image-20241022002353004.png" alt="image-20241022002353004"></p>
<p>查看行锁和意向锁</p>
<pre><code>select object_schema, object_name, index_name, lock_type, lock_mode, lock_data from performance_schema.data_locks;
</code></pre>
<pre><code class="sql">begin;
select * from department where did = 4101 for update;
select object_schema, object_name, index_name, lock_type, lock_mode, lock_data from performance_schema.data_locks;
select * from department where did &gt; 4102 and did &lt; 4103 lock in share mode;
-- 在另一个事务执行，select * from department where did &gt; 4102 and did &lt; 4103 for update;，也没问题，间隙锁彼此兼容
select * from department where did &gt;= 4103 for update;
select object_schema, object_name, index_name, lock_type, lock_mode, lock_data from performance_schema.data_locks;
commit;
select object_schema, object_name, index_name, lock_type, lock_mode, lock_data from performance_schema.data_locks;
</code></pre>
<p>开启事务，根据主键精确查询，对表加意向排他锁，对记录加排他记录锁。</p>
<p><img src="/7.1.InnoDB.assets/image-20241022003714254.png" alt="image-20241022003714254"></p>
<p>对某个间隙加共享间隙锁。</p>
<p><font color="red">特别注意，间隙锁的作用在于锁住某个间隙，防止该间隙中插入数据，无论是共享间隙锁还是排他间隙锁，不同事务间均是互相兼容的。</font></p>
<p><img src="/7.1.InnoDB.assets/image-20241022003741799.png" alt="image-20241022003741799"></p>
<p>对某个上界加锁，存在记录加记录写锁，上界加记录锁。</p>
<p><img src="/7.1.InnoDB.assets/image-20241022003809597.png" alt="image-20241022003809597"></p>
<p><img src="/7.1.InnoDB.assets/image-20241022005121839.png" alt="image-20241022005121839"></p>
<h3 id="行级锁"><a href="#行级锁" class="headerlink" title="行级锁"></a>行级锁</h3><p>InnoDB存储引擎有3种行锁的算法，其分别是：</p>
<ul>
<li>Record Lock：单个行记录上的锁。</li>
<li>Gap Lock：间隙锁，锁定一个范围，但不包含记录本身。</li>
<li>Next-Key Lock∶临键锁，Gap Lock+Record Lock，锁定一个范围，并且锁定记录本身。</li>
</ul>
<p>Record Lock总是会去锁住索引记录，如果InnoDB存储引擎表在建立的时候没有设置任何一个索引，那么这时InnoDB存储引擎会使用隐式的主键来进行锁定。Next-Key Lock是结合了Gap Lock和Record Lock的一种锁定算法，在Next-Key Lock算法下，InnoDB对于行的查询都是采用这种锁定算法。采用Next-Key Lock的锁定技术称为Next-Key Locking，其设计的目的是为了解决Phantom Problem（幻读）。而利用这种锁定技术，锁定的不是单个值，而是一个范围，是谓词锁（predict lock）的一种改进。</p>
<p>InnoDB存储引擎实现了如下两种标准的行级锁：</p>
<ul>
<li>共享锁（S Lock），允许事务读一行数据。</li>
<li>排他锁（X Lock），允许事务删除或更新一行数据。</li>
</ul>
<p>如果一个事务T1已经获得了行r的共享锁，那么另外的事务T2可以立即获得行r的共享锁，因为读取并没有改变行r的数据，称这种情况为锁兼容。但若有其他的事务T3想获得行r的排他锁，则其必须等待事务T1、T2释放行r上的共享锁，这种情况称为锁不兼容。下图显示了共享锁和排他锁的兼容性，可以发现X锁与任何的锁都不兼容，而S锁仅和S锁兼容。需要特别注意的是，S和X锁都是行锁，兼容是指对同一记录（row）锁的兼容性情况。</p>
<h4 id="表级锁"><a href="#表级锁" class="headerlink" title="表级锁"></a>表级锁</h4><p>InnoDB存储引擎支持多粒度锁定，这种锁定允许事务在行级上的锁和表级上的锁同时存在。为了支持在不同粒度上进行加锁操作，InnoDB存储引擎支持一种额外的锁方式，称之为意向锁。意向锁是将锁定的对象分为多个层次，意向锁意味着事务希望在更细粒度上进行加锁。</p>
<p>InnoDB存储引擎支持意向锁设计比较简练，其意向锁即为表级别的锁。设计目的主要是为了在一个事务中揭示下一行将被请求的锁类型。其支持两种意向锁：</p>
<ul>
<li>意向共享锁（IS Lock），事务想要获得一张表中某几行的共享锁。</li>
<li>意向排他锁（IX Lock），事务想要获得一张表中某几行的排他锁。</li>
</ul>
<p>由于InnoDB存储引擎支持的是行级别的锁，因此意向锁其实不会阻塞除全表扫以外的任何请求。故表级意向锁与行级锁的兼容性如下图所示。</p>
<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/v2-37761612ead11ddc3762a4c20ddab3f3_720w.webp" class="" title="img">

<ol>
<li>InnoDB 支持多粒度锁，特定场景下，行级锁可以与表级锁共存。</li>
<li>意向锁之间互不排斥，但除了 IS 与 S 兼容外，意向锁会与 共享锁 &#x2F; 排他锁 互斥。</li>
<li>IX，IS是表级锁，不会和行级的X，S锁发生冲突。只会和表级的X，S发生冲突。</li>
<li>意向锁在保证并发性的前提下，实现了行锁和表锁共存且满足事务隔离性的要求。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/5.7/en/innodb-locking.html#innodb-intention-locks">https://dev.mysql.com/doc/refman/5.7/en/innodb-locking.html#innodb-intention-locks</a></p>
<h3 id="锁的实现原理"><a href="#锁的实现原理" class="headerlink" title="锁的实现原理"></a>锁的实现原理</h3><p>InnoDB 行锁实现方式：<br>InnoDB 行锁是通过给索引上的索引项加锁来实现的，这一点 MySQL 与 Oracle 不同，后者是通过在数据块中对相应数据行加锁来实现的。InnoDB 这种行锁实现特点意味着：只有通过索引条件检索数据，InnoDB 才使用行级锁，否则，InnoDB 将使用表锁！<br>不论是使用主键索引、唯一索引或普通索引，InnoDB 都会使用行锁来对数据加锁。<br>只有执行计划真正使用了索引，才能使用行锁：即便在条件中使用了索引字段，但是否使用索引来检索数据是由 MySQL 通过判断不同执行计划的代价来决定的，如果 MySQL 认为全表扫描效率更高，比如对一些很小的表，它就不会使用索引，这种情况下 InnoDB 将使用表锁，而不是行锁。因此，在分析锁冲突时，<br>别忘了检查 SQL 的执行计划（可以通过 explain 检查 SQL 的执行计划），以确认是否真正使用了索引。（更多阅读：MySQL索引总结）<br>由于 MySQL 的行锁是针对索引加的锁，不是针对记录加的锁，所以虽然多个session是访问不同行的记录， 但是如果是使用相同的索引键， 是会出现锁冲突的（后使用这些索引的session需要等待先使用索引的session释放锁后，才能获取锁）。 应用设计的时候要注意这一点。</p>
<p>以下以InnoDB为例介绍</p>
<p>锁的粒度</p>
<p>MySQL 不同的存储引擎支持不同的锁机制，所有的存储引擎都以自己的方式显现了锁机制，服务器层完全不了解存储引擎中的锁实现：</p>
<ul>
<li>MyISAM 和 MEMORY 存储引擎采用的是表级锁（table-level locking）</li>
<li>BDB 存储引擎采用的是页面锁（page-level locking），但也支持表级锁</li>
<li>InnoDB 存储引擎既支持行级锁（row-level locking），也支持表级锁，但默认情况下是采用行级锁。</li>
</ul>
<p>默认情况下，表锁和行锁都是自动获得的， 不需要额外的命令。</p>
<p>但是在有的情况下， 用户需要明确地进行锁表或者进行事务的控制， 以便确保整个事务的完整性，这样就需要使用事务控制和锁定语句来完成。</p>
<p>表级锁：开销小，加锁快；不会出现死锁；锁定粒度大，发生锁冲突的概率最高，并发度最低。<br>这些存储引擎通过总是一次性同时获取所有需要的锁以及总是按相同的顺序获取表锁来避免死锁。<br>表级锁更适合于以查询为主，并发用户少，只有少量按索引条件更新数据的应用，如Web 应用<br>行级锁：开销大，加锁慢；会出现死锁；锁定粒度最小，发生锁冲突的概率最低，并发度也最高。<br>最大程度的支持并发，同时也带来了最大的锁开销。<br>在 InnoDB 中，除单个 SQL 组成的事务外，<br>锁是逐步获得的，这就决定了在 InnoDB 中发生死锁是可能的。<br>行级锁只在存储引擎层实现，而Mysql服务器层没有实现。 行级锁更适合于有大量按索引条件并发更新少量不同数据，同时又有并发查询的应用，如一些在线事务处理（OLTP）系统<br>页面锁：开销和加锁时间界于表锁和行锁之间；会出现死锁；锁定粒度界于表锁和行锁之间，并发度一般。</p>
<p><strong>MyISAM表级锁模式：</strong></p>
<ul>
<li>表共享读锁 （Table Read Lock）：不会阻塞其他用户对同一表的读请求，但会阻塞对同一表的写请求；</li>
<li>表独占写锁 （Table Write Lock）：会阻塞其他用户对同一表的读和写操作；</li>
</ul>
<p>MyISAM 表的读操作与写操作之间，以及写操作之间是串行的。当一个线程获得对一个表的写锁后， 只有持有锁的线程可以对表进行更新操作。 其他线程的读、 写操作都会等待，直到锁被释放为止。</p>
<p>MyISAM加表锁方法：<br>MyISAM 在执行查询语句（SELECT）前，会自动给涉及的表加读锁，在执行更新操作<br>（UPDATE、DELETE、INSERT 等）前，会自动给涉及的表加写锁，这个过程并不需要用户干预，因此，用户一般不需要直接用 LOCK TABLE 命令给 MyISAM 表显式加锁。</p>
<p>在自动加锁的情况下，MyISAM 总是一次获得 SQL 语句所需要的全部锁，这也正是 MyISAM 表不会出现死锁（Deadlock Free）的原因。</p>
<p>InnoDB加锁方法：<br>意向锁是 InnoDB 自动加的， 不需用户干预。<br>对于 UPDATE、 DELETE 和 INSERT 语句， InnoDB<br>会自动给涉及数据集加排他锁（X)；<br>对于普通 SELECT 语句，InnoDB 不会加任何锁；<br>事务可以通过以下语句显式给记录集加共享锁或排他锁：<br>共享锁（S）：SELECT * FROM table_name WHERE … LOCK IN SHARE MODE。 其他 session 仍然可以查询记录，并也可以对该记录加 share mode 的共享锁。但是如果当前事务需要对该记录进行更新操作，则很有可能造成死锁。<br>排他锁（X)：SELECT * FROM table_name WHERE … FOR UPDATE。其他 session 可以查询该记录，但是不能对该记录加共享锁或排他锁，而是等待获得锁</p>
<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/v2-c83c6459f8dc93a5f157fe1e3080088d_720w.webp" class="" title="img">

<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/v2-568951f4cdfeb9416042627a7b94c4ac_720w.webp" class="" title="img">



<h4 id="锁升级"><a href="#锁升级" class="headerlink" title="锁升级"></a>锁升级</h4><p>锁升级（Lock Escalation）是指将当前锁的粒度降低。举例来说，数据库可以把一个表的1000个行锁升级为一个页锁，或者将页锁升级为表锁。InnoDB存储引擎不存在锁升级的问题。因为其不是根据每个记录来产生行锁的，相反，其根据每个事务访问的每个页对锁进行管理的，采用的是位图的方式。因此不管一个事务锁住页中一个记录还是多个记录，其开销通常都是一致的。</p>
<h3 id="数据库死锁"><a href="#数据库死锁" class="headerlink" title="数据库死锁"></a>数据库死锁</h3><p>关于死锁：</p>
<p>死锁是指两个或两个以上的事务在执行过程中，因争夺锁资源而造成的一种互相等待的现象。若无外力作用，事务都将无法推进下去。</p>
<p>解决死锁问题最简单的一种方法是超时，即当两个事务互相等待时，当一个等待时间超过设置的某一阈值时，其中一个事务进行回滚，另一个等待的事务就能继续进行。</p>
<p>除了超时机制，当前数据库还都普遍采用wait-for graph（等待图）的方式来进行死锁检测。较之超时的解决方案，这是一种更为主动的死锁检测方式。InnoDB存储引擎也采用的这种方式。wait-for graph要求数据库保存以下两种信息：</p>
<ul>
<li>锁的信息链表；</li>
<li>事务等待链表；</li>
</ul>
<p>通过上述链表可以构造出一张图，而在这个图中若存在回路，就代表存在死锁，因此资源间相互发生等待。这是一种较为主动的死锁检测机制，在每个事务请求锁并发生等待时都会判断是否存在回路，若存在则有死锁，通常来说InnoDB存储引擎选择回滚undo量最小的事务。</p>
<p>死锁（Deadlock Free）<br>死锁产生：<br>死锁是指两个或多个事务在同一资源上相互占用，并请求锁定对方占用的资源，从而导致恶性循环。<br>当事务试图以不同的顺序锁定资源时，就可能产生死锁。多个事务同时锁定同一个资源时也可能会产生死锁。<br>锁的行为和顺序和存储引擎相关。以同样的顺序执行语句，有些存储引擎会产生死锁有些不会——死锁有双重原因：真正的数据冲突；存储引擎的实现方式。<br>检测死锁：数据库系统实现了各种死锁检测和死锁超时的机制。InnoDB存储引擎能检测到死锁的循环依赖并立即返回一个错误。<br>死锁恢复：死锁发生以后，只有部分或完全回滚其中一个事务，才能打破死锁，InnoDB目前处理死锁的方法是，将持有最少行级排他锁的事务进行回滚。所以事务型应用程序在设计时必须考虑如何处理死锁，多数情况下只需要重新执行因死锁回滚的事务即可。<br>外部锁的死锁检测：发生死锁后，InnoDB 一般都能自动检测到，并使一个事务释放锁并回退，另一个事务获得锁，继续完成事务。但在涉及外部锁，或涉及表锁的情况下，InnoDB 并不能完全自动检测到死锁， 这需要通过设置锁等待超时参数 innodb_lock_wait_timeout 来解决<br>死锁影响性能：死锁会影响性能而不是会产生严重错误，因为InnoDB会自动检测死锁状况并回滚其中一个受影响的事务。在高并发系统上，当许多线程等待同一个锁时，死锁检测可能导致速度变慢。 有时当发生死锁时，禁用死锁检测（使用innodb_deadlock_detect配置选项）可能会更有效，这时可以依赖innodb_lock_wait_timeout设置进行事务回滚。<br>MyISAM避免死锁：<br>在自动加锁的情况下，MyISAM 总是一次获得 SQL 语句所需要的全部锁，所以 MyISAM 表不会出现死锁。<br>InnoDB避免死锁：<br>为了在单个InnoDB表上执行多个并发写入操作时避免死锁，可以在事务开始时通过为预期要修改的每个元祖（行）使用SELECT … FOR UPDATE语句来获取必要的锁，即使这些行的更改语句是在之后才执行的。<br>在事务中，如果要更新记录，应该直接申请足够级别的锁，即排他锁，而不应先申请共享锁、更新时再申请排他锁，因为这时候当用户再申请排他锁时，其他事务可能又已经获得了相同记录的共享锁，从而造成锁冲突，甚至死锁<br>如果事务需要修改或锁定多个表，则应在每个事务中以相同的顺序使用加锁语句。 在应用中，如果不同的程序会并发存取多个表，应尽量约定以相同的顺序来访问表，这样可以大大降低产生死锁的机会<br>通过SELECT … LOCK IN SHARE MODE获取行的读锁后，如果当前事务再需要对该记录进行更新操作，则很有可能造成死锁。<br>改变事务隔离级别<br>如果出现死锁，可以用 SHOW INNODB STATUS 命令来确定最后一个死锁产生的原因。返回结果中包括死锁相关事务的详细信息，如引发死锁的 SQL 语句，事务已经获得的锁，正在等待什么锁，以及被回滚的事务等。据此可以分析死锁产生的原因和改进措施。</p>
<p>一些优化锁性能的建议<br>尽量使用较低的隔离级别；<br>精心设计索引， 并尽量使用索引访问数据， 使加锁更精确， 从而减少锁冲突的机会<br>选择合理的事务大小，小事务发生锁冲突的几率也更小<br>给记录集显示加锁时，最好一次性请求足够级别的锁。比如要修改数据的话，最好直接申请排他锁，而不是先申请共享锁，修改时再请求排他锁，这样容易产生死锁<br>不同的程序访问一组表时，应尽量约定以相同的顺序访问各表，对一个表而言，尽可能以固定的顺序存取表中的行。这样可以大大减少死锁的机会<br>尽量用相等条件访问数据，这样可以避免间隙锁对并发插入的影响<br>不要申请超过实际需要的锁级别<br>除非必须，查询时不要显示加锁。 MySQL的MVCC可以实现事务中的查询不用加锁，优化事务性能；MVCC只在COMMITTED READ（读提交）和REPEATABLE READ（可重复读）两种隔离级别下工作<br>对于一些特定的事务，可以使用表锁来提高处理速度或减少死锁的可能</p>
<p>LOCK TABLES 和 UNLOCK TABLES<br>Mysql也支持lock tables和unlock tables，这都是在服务器层（MySQL Server层）实现的，和存储引擎无关，它们有自己的用途，并不能替代事务处理。 （除了禁用了autocommint后可以使用，其他情况不建议使用）：</p>
<p>LOCK TABLES 可以锁定用于当前线程的表。如果表被其他线程锁定，则当前线程会等待，直到可以获取所有锁定为止。<br>UNLOCK TABLES 可以释放当前线程获得的任何锁定。当前线程执行另一个 LOCK TABLES 时，<br>或当与服务器的连接被关闭时，所有由当前线程锁定的表被隐含地解锁</p>
<p>（表空间、段、区、页、行）</p>
<p>要不要锁，能不能锁，锁什么，怎么锁</p>
<p>锁的是不同粒度的数据，获得锁的是事务</p>
<p>最基础的概念，三类</p>
<p>由于mysql不同的表可以对应不同存储引擎，行级锁由存储引擎实现，表级锁由server层实现</p>
<p>一个锁，必然是乐观悲观锁之一，必然是读写锁之一，必然是某个粒度的锁</p>
<h3 id="按思想分类：乐观锁、悲观锁"><a href="#按思想分类：乐观锁、悲观锁" class="headerlink" title="按思想分类：乐观锁、悲观锁"></a>按思想分类：乐观锁、悲观锁</h3><ul>
<li>悲观锁</li>
<li>乐观锁</li>
</ul>
<h3 id="按属性分类：读锁、写锁、意向锁"><a href="#按属性分类：读锁、写锁、意向锁" class="headerlink" title="按属性分类：读锁、写锁、意向锁"></a>按属性分类：读锁、写锁、意向锁</h3><ul>
<li>共享锁，读锁<ul>
<li>select xxx lock in share mode;</li>
</ul>
</li>
<li>排他锁，写锁<ul>
<li>select xxx for update;</li>
<li>innodb会对udpdate、delete、insert自动添加排他锁</li>
</ul>
</li>
</ul>
<p>为了优化读写锁，引入了意向锁机制。</p>
<ul>
<li>意向共享锁（IS）：事务打算给数据行加行共享锁，事务在给一个数据行加共享锁前必须先取得该表的 IS 锁</li>
<li>意向排他锁（IX）：事务打算给数据行加行排他锁，事务在给一个数据行加排他锁前必须先取得该表的 IX 锁</li>
</ul>
<p><img src="/7.1.InnoDB.assets/image-20241021224738656.png" alt="image-20241021224738656"></p>
<p>若一个事务请求的锁与当前数据加的锁相互兼容，InnoDB就将请求的锁授予该事务，反之，若两者不兼容，则请求锁的事务阻塞。</p>
<h3 id="按粒度：全局锁、表级锁、行级锁"><a href="#按粒度：全局锁、表级锁、行级锁" class="headerlink" title="按粒度：全局锁、表级锁、行级锁"></a>按粒度：全局锁、表级锁、行级锁</h3><p>粒度越小，加锁开销越大，但读写性能整体会好</p>
<h4 id="页级锁，page-level-lock"><a href="#页级锁，page-level-lock" class="headerlink" title="页级锁，page-level lock"></a>页级锁，page-level lock</h4><p>InnoDB没有页级锁。</p>
<p>BerkeleyDB引擎，<a target="_blank" rel="noopener" href="https://www.mysqlzh.com/doc/218.html">https://www.mysqlzh.com/doc/218.html</a></p>
<h2 id="事务模型"><a href="#事务模型" class="headerlink" title="事务模型"></a>事务模型</h2><h3 id="标准事务模型"><a href="#标准事务模型" class="headerlink" title="标准事务模型"></a>标准事务模型</h3><h4 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h4><p>一串sql命令</p>
<h4 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h4><p>事务需遵循ACID四个特性：</p>
<ul>
<li>A（atomicity），原子性。原子性指整个数据库事务是不可分割的工作单位。只有使事务中所有的数据库操作都执行成功，整个事务的执行才算成功。事务中任何一个SQL语句执行失败，那么已经执行成功的SQL语句也必须撤销，数据库状态应该退回到执行事务前的状态。</li>
<li>C（consistency），一致性。一致性指事务将数据库从一种状态转变为另一种一致的状态。在事务开始之前和事务结束以后，数据库的完整性约束没有被破坏。</li>
<li>I（isolation），隔离性。事务的隔离性要求每个读写事务的对象与其他事务的操作对象能相互分离，即该事务提交前对其他事务都不可见，这通常使用锁来实现。</li>
<li>D（durability） ，持久性。事务一旦提交，其结果就是永久性的，即使发生宕机等故障，数据库也能将数据恢复。持久性保证的是事务系统的高可靠性，而不是高可用性。</li>
</ul>
<h4 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h4><h5 id="集中式事务"><a href="#集中式事务" class="headerlink" title="集中式事务"></a>集中式事务</h5><p>单个节点参与的事务，单节点操作执行成功集中式事务即成功，单节点操作执行失败则集中式事务回滚</p>
<h5 id="扁平式事务"><a href="#扁平式事务" class="headerlink" title="扁平式事务"></a>扁平式事务</h5><ul>
<li>一般扁平事务：由begin或start transaction开始，由commit或rollback结束的简单事务，完整commit或完整rollback</li>
<li>带保存点的扁平事务：在一般扁平事务基础上可以设置保存点，允许该事务回滚到保存点，相当于部分“回滚，一般扁平事务相当于保存点在事务开头的一般扁平事务</li>
</ul>
<h5 id="链式事务"><a href="#链式事务" class="headerlink" title="链式事务"></a>链式事务</h5><p>在带保存点的扁平事务的基础上，将多个带保存点的扁平事务连接，前一个事务的提交和后一个事务的开始为原子操作，这样前一个事务的上下文就可以被后一个事务获取，链式事务本质是传递上下文的多个事务</p>
<h5 id="嵌套事务"><a href="#嵌套事务" class="headerlink" title="嵌套事务"></a>嵌套事务</h5><p>树状事务组织形式，根节点为顶层事务，每一棵子树都可以是嵌套事务，叶子节点为扁平事务，嵌套事务由顶层事务统一控制提交，但如果任意子事务回滚会导致整个嵌套事务回滚</p>
<h5 id="自治事务"><a href="#自治事务" class="headerlink" title="自治事务"></a>自治事务</h5><p>自治事务在嵌套事务的基础上，让子树管理其下事务而不受顶层事务节制，自治事务提交后即使顶层事务回滚也不会造成自治事务回滚。自治事务常用于在外层事务记录日志，无论外层成功提交还是失败回滚，自治事务都可以记录日志。MySQL原生不支持自治事务，Oracle原生支持自治事务。</p>
<h5 id="分布式事务"><a href="#分布式事务" class="headerlink" title="分布式事务"></a>分布式事务</h5><p>由多个节点参与的事务，各个节点操作都成功执行则分布式事务成功，任意节点操作失败则分布式事务全部回滚</p>
<p>链式事务和带保存点的扁平事务区别在于，前者是一个事务，后者是多个事务，表现在：</p>
<p>宕机时，使用带保存点的扁平事务执行A和B操作，扁平点设置在A与B操作之间，链式事务执行A和B操作使用两个事务，在事务执行正常时，两种方案执行情况相同，在事务正在执行未提交时，假定此时数据库宕机,，恢复后数据库会回滚，带保存点的扁平事务会被完全回滚，而对于链式事务，如果执行A时宕机，那么与前者结果一样，如果执行B时宕机，A操作所在事务却是成功持久化了，同样的，带保存点的扁平事务在提交之前可以随意回滚到某个保存点，但链式事务只能在链上每个事务中回滚，已经提交的链上事务无法回滚</p>
<p>锁，当带有保存点的扁平事务完成保存点之前的操作时，该部分操作使用的锁并不会释放，因为是一个事务，而对于链式事务完成一个链上事务就会将该事务的锁释放</p>
<h4 id="隔离级别"><a href="#隔离级别" class="headerlink" title="隔离级别"></a>隔离级别</h4><p>SQL标准定义了四种隔离级别，这四种隔离级别分别是：</p>
<ul>
<li>读未提交（READ UNCOMMITTED）；</li>
<li>读提交 （READ COMMITTED）；</li>
<li>可重复读 （REPEATABLE READ）；</li>
<li>串行化 （SERIALIZABLE）。</li>
</ul>
<p>事务隔离是为了解决脏读、不可重复读、幻读问题，下表展示了 4 种隔离级别对这三个问题的解决程度：</p>
<table>
<thead>
<tr>
<th align="left">隔离级别</th>
<th align="left">脏读</th>
<th align="left">不可重复读</th>
<th align="left">幻读</th>
</tr>
</thead>
<tbody><tr>
<td align="left">READ UNCOMMITTED</td>
<td align="left">可能</td>
<td align="left">可能</td>
<td align="left">可能</td>
</tr>
<tr>
<td align="left">READ COMMITTED</td>
<td align="left">不可能</td>
<td align="left">可能</td>
<td align="left">可能</td>
</tr>
<tr>
<td align="left">REPEATABLE READ</td>
<td align="left">不可能</td>
<td align="left">不可能</td>
<td align="left">可能</td>
</tr>
<tr>
<td align="left">SERIALIZABLE</td>
<td align="left">不可能</td>
<td align="left">不可能</td>
<td align="left">不可能</td>
</tr>
</tbody></table>
<p>并发情况下，读操作可能存在的三类问题：</p>
<ol>
<li>脏读：当前事务(A)中可以读到其他事务(B)未提交的数据（脏数据），这种现象是脏读。</li>
<li>不可重复读：在事务A中先后两次读取同一个数据，两次读取的结果不一样，这种现象称为不可重复读。脏读与不可重复读的区别在于：前者读到的是其他事务未提交的数据，后者读到的是其他事务已提交的数据。</li>
<li>幻读：在事务A中按照某个条件先后两次查询数据库，两次查询结果的条数不同，这种现象称为幻读。不可重复读与幻读的区别可以通俗的理解为：前者是数据变了，后者是数据的行数变了。</li>
</ol>
<h3 id="InnoDB-事务模型"><a href="#InnoDB-事务模型" class="headerlink" title="InnoDB 事务模型"></a>InnoDB 事务模型</h3><ol>
<li><strong>模型融合</strong>：InnoDB 事务模型致力于结合多版本控制数据库的优势与传统两阶段锁定机制，兼顾并发性能与数据一致性。</li>
<li><strong>默认行为</strong>：采用行级锁定，并默认以非锁定的一致性读方式执行查询，风格类似 Oracle，减少锁冲突以提升并发效率。</li>
<li><strong>锁存储优化</strong>：锁信息存储具有空间高效性，无需进行锁升级（将行锁升级为表锁等），因此允许多个用户锁定表中全部或任意随机子集的行，且不会导致 InnoDB 内存耗尽，保障了高并发场景下的稳定性。</li>
</ol>
<h4 id="类型-1"><a href="#类型-1" class="headerlink" title="类型"></a>类型</h4><p>InnoDB存储引擎支持扁平事务、带有保存点的扁平事务、链事务、分布式事务。对于嵌套事务，MySQL数据库并不是原生的，因此对于有并行事务需求的用户来说MySQL就无能为力了，但是用户可以通过带有保存点的事务来模拟串行的嵌套事务。</p>
<h4 id="MVCC"><a href="#MVCC" class="headerlink" title="MVCC"></a>MVCC</h4><p>多版本并发控制，MVCC，Multi-Version Concurrency Control</p>
<h5 id="性能问题"><a href="#性能问题" class="headerlink" title="性能问题"></a>性能问题</h5><p>在不使用读写锁的自然状态下：</p>
<ul>
<li>读读，并发读读数据不会紊乱</li>
<li>读写，并发读写数据可能紊乱</li>
<li>写写，并发写写数据可能紊乱</li>
</ul>
<p>读写、写写紊乱问题可以通过加锁解决。<font color="red">引入 MVCC 来优化读写并发场景的性能问题，写时允许读数据的历史版本而不是阻塞读操作从而提高读性能。</font></p>
<h5 id="核心思想"><a href="#核心思想" class="headerlink" title="核心思想"></a>核心思想</h5><p>维护数据的多个版本，保证写最新数据，但不保证读最新数据，读写并发时写加锁，读不加锁但读历史版本，读写不冲突，读写锁限制被绕开，读多写少场景下极大提高了并发性能。</p>
<h5 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h5><p>内部字段</p>
<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20250831173034360.png" class="" title="image-20250831173034360">

<table>
<thead>
<tr>
<th>字段名称</th>
<th>长度</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>DB_ROW_ID</td>
<td>6 字节</td>
<td>聚簇索引若由InnoDB生成，则生成本列构建聚簇索引，否则本列不会存在。</td>
</tr>
<tr>
<td>DB_TRX_ID</td>
<td>6 字节</td>
<td>最后一次插入或更新（包括删除）该行的事务的标识符。删除在内部被视为一种更新，此时行中的一个特殊位会被设置，以将其标记为已删除。</td>
</tr>
<tr>
<td>DB_ROLL_PTR</td>
<td>7 字节</td>
<td>回滚指针。回滚指针指向写入回滚段的撤销日志记录。如果该行已被更新，撤销日志记录包含重建该行更新前内容所需的信息。</td>
</tr>
</tbody></table>
<p>undo log 版本链</p>
<p>每行数据的隐藏列中包含了指向undo log的指针，而每条undo log也会指向更早版本的undo log，从而形成一条版本链</p>
<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20250831175937788.png" class="" title="image-20250831175937788">

<p>不同事务或者相同事务对同一行数据修改，会在修改前记录该数据到 undo log 版本链中，链表头部是最新的历史记录，链表尾部为最旧的历史记录。</p>
<p>两类undo log，insert时，产生的undo log只有在回滚时才会用到，只要事务提交，该日志即可删除，而update或delete时，产生的undo log除了在回滚时需要，在快照读时以版本链的形式提供读取依据，不会被立即删除</p>
<p><code>InnoDB</code>是一种多版本存储引擎。它保留已更改行的旧版本信息，以支持并发和回滚等事务功能。这些信息存储在撤消表空间中一个名为回滚段的数据结构里。参见<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-undo-tablespaces.html">第 17.6.3.4 节，“撤消表空间”</a>。<br><code>InnoDB</code>利用回滚段中的信息执行事务回滚所需的撤消操作。它还使用这些信息构建行的早期版本，以实现一致性读取。参见<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-consistent-read.html">第 17.7.2.3 节，“一致性非锁定读取”</a>。</p>
<p>回滚段中的撤销日志分为插入撤销日志和更新撤销日志。</p>
<ul>
<li><p>插入撤销日志仅在事务回滚时需要，并且在事务提交后即可丢弃。</p>
</li>
<li><p>更新撤销日志也用于一致性读取，但只有当不存在这样的事务时才能丢弃：即<code>InnoDB</code>已为其分配了快照，而在一致性读取中，可能需要更新撤销日志中的信息来构建数据库行的早期版本。</p>
</li>
<li><p>有关撤销日志的更多信息，请参见<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-undo-logs.html">第 17.6.6 节 “撤销日志”</a>。</p>
</li>
<li><p>建议您定期提交事务，包括仅执行一致读取的事务。否则，<code>InnoDB</code> 无法从更新撤消日志中丢弃数据，回滚段可能会变得过大，从而填满它所在的撤消表空间。有关管理撤消表空间的信息，请参见 <a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-undo-tablespaces.html">第 17.6.3.4 节，“撤消表空间”</a>。</p>
</li>
<li><p>回滚段中撤销日志记录的物理大小通常小于相应的插入或更新行。您可以利用此信息来计算回滚段所需的空间。</p>
</li>
</ul>
<p>在<br><code>InnoDB</code>多版本控制方案中，当您使用 SQL 语句删除一行时，该行不会立即从数据库中被物理删除。<br><code>InnoDB</code>只有在丢弃为删除操作写入的更新撤销日志记录时，才会物理删除相应的行及其索引记录。这种删除操作称为清理，速度相当快，通常所需时间与执行删除操作的 SQL 语句大致相同。</p>
<p><code>InnoDB</code>多版本并发控制（MVCC）处理二级索引的方式与聚集索引不同。聚集索引中的记录会就地更新，其隐藏的系统列指向撤销日志条目，通过这些条目可以重建记录的早期版本。与聚集索引记录不同，二级索引记录不包含隐藏的系统列，也不会就地更新。</p>
<p>当二级索引列被更新时，旧的二级索引记录会被标记为删除，新的记录会被插入，而被标记为删除的记录最终会被清除。当二级索引记录被标记为删除，或者二级索引页被较新的事务更新时，<br>InnoDB 会在聚集索引中查找数据库记录。在聚集索引中，会检查记录的<br>DB_TRX_ID，如果该记录在读取事务启动后被修改过，则会从撤销日志中检索该记录的正确版本。</p>
<p>如果二级索引记录被标记为删除，或者二级索引页被更新的事务所更新，那么就不会使用<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_covering_index">覆盖索引</a>技术。<code>InnoDB</code>不会从索引结构中返回值，而是会在聚集索引中查找记录。</p>
<p>但是，如果启用了<br><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/index-condition-pushdown-optimization.html">索引条件下推（ICP）</a>优化，并且<br><code>WHERE</code>条件的部分内容仅使用索引中的字段就能进行评估，MySQL 服务器仍会将<br><code>WHERE</code>条件的这部分内容下推到存储引擎，由存储引擎使用索引来进行评估。如果没有找到匹配的记录，就可以避免聚集索引查找。如果找到了匹配的记录，即便在带有删除标记的记录中，<br><code>InnoDB</code>也会在聚集索引中查找该记录。</p>
<p>InnoDB 的多版本并发控制（MVCC）对二级索引和聚集索引的处理方式存在显著差异，核心区别及机制如下： InnoDB 的</p>
<ol>
<li><strong>存储与更新方式的差异</strong><ul>
<li><strong>聚集索引</strong>：记录会被<strong>就地更新</strong>，且包含隐藏系统列（如 <code>DB_TRX_ID</code>、<code>DB_ROLL_PTR</code>），这些列指向 undo 日志，可通过日志重建记录的历史版本。</li>
<li><strong>二级索引</strong>：不包含隐藏系统列，且<strong>不会就地更新</strong>。当二级索引列被更新时，旧记录会被标记为 “删除”，新记录会被插入，标记删除的记录最终会被清除（purge）。</li>
</ul>
</li>
<li><strong>版本验证与查询机制</strong><ul>
<li>当二级索引记录被标记删除，或其所在页面被更新时，InnoDB 会通过<strong>聚集索引查找原始记录</strong>，并检查聚集索引中记录的 <code>DB_TRX_ID</code>，确认是否需要从 undo 日志中获取事务开始前的正确版本。</li>
</ul>
</li>
<li><strong>索引技术的限制与优化</strong><ul>
<li><strong>覆盖索引失效</strong>：若二级索引记录被标记删除或页面被更新，覆盖索引（直接从索引返回数据）无法使用，必须通过聚集索引查询完整记录。</li>
<li><strong>索引条件下推（ICP）仍有效</strong>：若启用 ICP，且 <code>WHERE</code> 条件可仅通过二级索引字段判断，MySQL 会将条件下推到存储引擎，通过索引筛选记录。若未找到匹配项，可避免聚集索引查询；若找到匹配项（即使是标记删除的记录），仍需通过聚集索引获取最终版本。</li>
</ul>
</li>
</ol>
<p>简言之，二级索引不直接参与多版本管理，而是依赖聚集索引和 undo 日志验证版本，同时通过特定机制（如 ICP）优化查询效率。</p>
<h5 id="锁定读取（当前读）"><a href="#锁定读取（当前读）" class="headerlink" title="锁定读取（当前读）"></a>锁定读取（当前读）</h5><p>读取记录的最新版本，阻塞读取，读取时对记录进行加锁，保证其他并发事务不能修改当前记录，例如：</p>
<ul>
<li>select lock in share mode (共享锁)</li>
<li>select for update (排他锁)</li>
<li>update (排他锁)</li>
<li>insert (排他锁)</li>
<li>delete (排他锁)</li>
</ul>
<h5 id="一致性非锁定读取（快照读）"><a href="#一致性非锁定读取（快照读）" class="headerlink" title="一致性非锁定读取（快照读）"></a>一致性非锁定读取（快照读）</h5><p>读取记录的可见版本（即不保证一定是最新版本），非阻塞读取</p>
<p>通过隐藏列构建的版本链，可以实现写操作执行时并行读历史数据的操作，读取时版本选择由 ReadView 确定。</p>
<h6 id="readview，读视图"><a href="#readview，读视图" class="headerlink" title="readview，读视图"></a>readview，读视图</h6><p>读视图是指事务在某时刻为整个事务系统生成快照，随后读取数据时基于该快照判断当前事务可读取的版本。</p>
<p>读视图记录 InnoDB 当前活跃事务（即未提交）的 ID。包含四个字段：</p>
<ol>
<li>creator_trx_id：视图创建者事务ID</li>
<li>m_ids：当前活跃的事务ID集合</li>
<li>min_trx_id：最小活跃事务ID</li>
<li>max_trx_id：最大活跃事务ID，当前最大事务ID+1（事务ID自增）</li>
</ol>
<p>db_trx_id 为行记录中最后一次插入或更新该记录的事务ID，版本链版本选择从最新数据开始遍历，选择第一个满足条件的版本：</p>
<ol>
<li><p>db_trx_id &#x3D;&#x3D; creator_trx_id：当前版本数据最后一次为当前事务所操作过的，使用该版本数据</p>
</li>
<li><p>db_trx_id &lt; min_trx_id：当前版本数据最后一次为一个非活跃事务操作过的（即事务已提交），使用该版本数据</p>
</li>
<li><p>min_trx_id &lt;&#x3D; db_trx_id &lt; max_trx_id</p>
<ol>
<li>若 db_trx_id 不在 m_ids 中，当前版本数据最后一次为一个非活跃事务操作过的（即事务已提交），使用该版本数据</li>
<li>若 db_trx_id 在 m_ids 中，当前版本数据最后一次为一个活跃事务操作过的（即事务还没提交），不能使用该版本数据</li>
</ol>
</li>
<li><p>db_trx_id &gt;&#x3D; max_trx_id，当前版本数据最后一次为一个比当前事务及当前读事务中所有事务都新的事务，不能使用该版本数据</p>
</li>
</ol>
<blockquote>
<p>[!IMPORTANT]</p>
<p>MVCC 在 RC 和 RR 两个隔离级别生效，读视图在两个级别生成时机不同：</p>
<ol>
<li>READ COMMITED：在事务中每执行一次快照读时均生成一次读视图。</li>
<li>REPEATABLE READ：在事务中第一次执行快照读时生成读视图，随后该事务中的快照读复用该视图。</li>
</ol>
<p>故在两次快照读中间有事务修改数据并提交，会RC 级别下会发生数据不一致问题。</p>
</blockquote>
<p>读已提交</p>
<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220915220916852.png" class="" title="image-20220915220916852">

<p>可重复读</p>
<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220915222005906.png" class="" title="image-20220915222005906">



<p>ACID</p>
<p>Server 和 Engine 之间使用两阶段提交保证一致性：</p>
<ul>
<li><strong>阶段 1：Prepare</strong> —— 只在 InnoDB 内完成，保证事务的修改已持久化到 redo log，但尚未“生效”。</li>
<li><strong>阶段 2：Commit</strong> —— 先让 binlog 落盘，再让 InnoDB 把事务标成已提交，确保 <strong>redo log 与 binlog 顺序一致</strong>。</li>
</ul>
<p>崩溃恢复时就靠这两个阶段写下的信息判断：</p>
<ul>
<li>redo log 里事务处于 PREPARED 且 binlog 存在 → 提交；</li>
<li>redo log 里事务处于 PREPARED 但 binlog 不存在 → 回滚；</li>
<li>redo log 里根本没有 PREPARED → 直接回滚。</li>
</ul>
<p>• <strong>Redo log</strong> 是 <strong>固定大小的环形文件</strong>（<code>ib_logfile0/1/...</code>），<strong>后台由 log_writer&#x2F;log_flusher 线程循环复用</strong>，<strong>不是“清理”而是“覆盖”</strong>。<br>• <strong>Undo log</strong> 是 <strong>可以无限增长、需要真正回收</strong> 的文件段（<code>undo_001/002</code> 或独立表空间），<strong>由专门的 purge 线程在满足条件后异步删除</strong>。</p>
<hr>
<p>一、Redo log 的“清理”——其实是循环覆盖</p>
<ol>
<li>结构<br>Redo log 是一组固定大小（<code>innodb_log_file_size * innodb_log_files_in_group</code>）的文件，InnoDB 把它当做一个 <strong>逻辑上首尾相接的圆环</strong>。</li>
<li>复用规则<br>• 每当 <strong>checkpoint</strong> 推进（<code>log_checkpoint()</code>）时，InnoDB 把 <strong>Buffer Pool 中已落盘的脏页对应的 LSN</strong> 之前的 redo 记录视为“无用”。<br>• 这些无用记录所占的日志空间即可 <strong>被新事务覆盖</strong>；后台线程 <strong>log_writer</strong>&#x2F;<strong>log_flusher</strong>&#x2F;<strong>log_checkpointer</strong> 只负责把待覆盖区域写满新日志并 fsync，<strong>不会删除文件</strong>。<br>• 因此，Redo log 永远不需要“清理文件”，只要 <strong>checkpoint 不落后</strong>，就能一直复用。</li>
</ol>
<h5 id="MVCC机制在可重复读隔离级别下对幻读问题的贡献"><a href="#MVCC机制在可重复读隔离级别下对幻读问题的贡献" class="headerlink" title="MVCC机制在可重复读隔离级别下对幻读问题的贡献"></a>MVCC机制在可重复读隔离级别下对幻读问题的贡献</h5><p>四个隔离级别中，已提交读和可重复读两个级别使用了MVCC。</p>
<p>在事务隔离级别中，可重复读级别是存在幻读问题的，而MySQL中，在实现上，一定程度解决了幻读的几个场景。</p>
<p>MVCC只是用来优化读写并发场景下读的性能，并不能解决幻读问题。不过InnoDB使用间隙锁在MVCC的基础上解决了某些场景下的幻读问题。</p>
<p>事务看到的数据不一定真的存在，没有看到数据不一定不存在。</p>
<p>先分析一下幻读会出现的场景。</p>
<p>A事务查询id&#x3D;1数据发现不存在</p>
<p>B事务插入该条id&#x3D;1数据</p>
<p>A事务再次查询发现</p>
<p>A事务快照读id&#x3D;1数据发现不存在</p>
<p>B事务插入该条id&#x3D;1数据</p>
<p>A事务再次快照读没有发现数据</p>
<p>A事务当前读id&#x3D;1数据发现不存在</p>
<p>B事务插入该条id&#x3D;1数据，B事务会阻塞</p>
<p>A事务再次当前读没有发现数据</p>
<p>A事务快照读1 &lt;&#x3D;id&lt;&#x3D;5数据发现只有id为1、2、3的三条</p>
<p>B事务插入该条id&#x3D;4和id&#x3D;5数据</p>
<p>A事务再次快照读还是发现只有id为1、2、3的三条</p>
<p>A事务当前读1 &lt;&#x3D;id&lt;&#x3D;5数据发现只有id为1、2、3的三条</p>
<p>B事务插入该条id&#x3D;4和id&#x3D;5数据，被next-key-lock阻塞</p>
<p>A事务再次当前读还是发现只有id为1、2、3的三条</p>
<p>A事务快照读1 &lt;&#x3D;id&lt;&#x3D;5数据发现只有id为1、2、3的三条</p>
<p>B事务插入该条id&#x3D;4和id&#x3D;5数据</p>
<p>A事务当前读还是发现只有id为1、2、3、4、5的五条</p>
<p>单纯的MVCC机制并不能解决幻读问题，InnoDB也是通过加间隙锁来防止幻读。</p>
<p>快照读和当前读是否可重复读？不可。幻读也是这个问题。</p>
<pre><code class="sql">create table if not exists department( did numeric(4), dname varchar(20), dlocation varchar(20), primary key(did) );
truncate department;
insert into sqlexercise.department value(4101,&#39;行政部&#39;,&#39;北京&#39;);
</code></pre>
<p>A事务</p>
<pre><code class="sql">begin; -- 1
select * from department; -- 2
select * from department; -- 6
select * from department for update; -- 7
commit; -- 9
</code></pre>
<p>B事务</p>
<pre><code class="sql">begin; -- 3
select * from department; -- 4
update department set dlocation = &#39;上海&#39; where did = 4101; -- 5
commit; -- 8
</code></pre>
<p>快照读和当前读同时读取同一条数据有可能会出现不可重复读问题。</p>
<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20241021201128252.png" class="" title="image-20241021201128252">



<h2 id="索引-2"><a href="#索引-2" class="headerlink" title="索引"></a>索引</h2><h3 id="InnoDB-事务-ACID"><a href="#InnoDB-事务-ACID" class="headerlink" title="InnoDB 事务 ACID"></a>InnoDB 事务 ACID</h3><p>MySQL事务ACID特性实现原理</p>
<h5 id="原子性实现原理"><a href="#原子性实现原理" class="headerlink" title="原子性实现原理"></a>原子性实现原理</h5><p>基于undo log回滚，undo log属于逻辑日志，记录sql执行相关的信息。如果事务执行失败或调用了rollback，导致事务需要回滚，InnoDB会根据undo log的内容做与之前相反的工作。对于insert，回滚时会执行delete。对于delete，回滚时会执行insert。对于update，回滚时则会执行相反的update，将数据还原。</p>
<h5 id="持久性实现原理"><a href="#持久性实现原理" class="headerlink" title="持久性实现原理"></a>持久性实现原理</h5><p>基于磁盘存储，Buffer Pool解决读写速率问题，redo log解决Buffer Pool在MySQL崩溃时未写入磁盘数据的问题</p>
<p>InnoDB作为MySQL的存储引擎，数据是存放在磁盘中的，但如果每次读写数据都需要磁盘IO，效率会很低。为此，InnoDB提供了缓存(Buffer Pool)，Buffer Pool中包含了磁盘中部分数据页的映射，作为访问数据库的缓冲。当从数据库读取数据时，会首先从Buffer Pool中读取，如果Buffer Pool中没有，则从磁盘读取后放入Buffer Pool。当向数据库写入数据时，会首先写入Buffer Pool，Buffer Pool中修改的数据会定期刷新到磁盘中（这一过程称为刷脏）。Buffer Pool的使用大大提高了读写数据的效率，但是也带了新的问题：如果MySQL宕机，而此时Buffer Pool中修改的数据还没有刷新到磁盘，就会导致数据的丢失，事务的持久性无法保证。</p>
<p>于是，redo log被引入来解决这个问题。当数据修改时，除了修改Buffer Pool中的数据，还会在redo log记录这次操作。当事务提交时，会调用fsync接口对redo log进行刷盘。如果MySQL宕机，重启时可以读取redo log中的数据，对数据库进行恢复。redo log采用的是WAL（Write-ahead logging，预写式日志），所有修改先写入日志，再更新到Buffer Pool，保证了数据不会因MySQL宕机而丢失，从而满足了持久性要求。</p>
<p>既然redo log也需要在事务提交时将日志写入磁盘，为什么它比直接将Buffer Pool中修改的数据写入磁盘(即刷脏)要快呢？主要有以下两方面的原因：</p>
<ul>
<li>刷脏是随机IO，因为每次修改的数据位置随机，但写redo log是追加操作，属于顺序IO。</li>
<li>刷脏是以数据页（Page）为单位的，MySQL默认页大小是16KB，一个Page上一个小修改都要整页写入。而redo log中只包含真正需要写入的部分，无效IO大大减少。</li>
</ul>
<h5 id="隔离性实现原理"><a href="#隔离性实现原理" class="headerlink" title="隔离性实现原理"></a>隔离性实现原理</h5><p>基于锁和MVCC实现，隔离性要求并发条件下多个事务之间不相互影响</p>
<ol>
<li><p>一个事务写操作对另一个事务写操作的影响，锁机制保证隔离性</p>
<p>隔离性要求同一时刻只能有一个事务对数据进行写操作，InnoDB通过锁机制来保证这一点。锁机制的基本原理可以概括为：事务在修改数据之前，需要先获得相应的锁。获得锁之后，事务便可以修改数据。该事务操作期间，这部分数据是锁定的，其他事务如果需要修改数据，需要等待当前事务提交或回滚后释放锁。按照粒度，锁可以分为表锁、行锁以及其他位于二者之间的锁。表锁在操作数据时会锁定整张表，并发性能较差。行锁则只锁定需要操作的数据，并发性能好。但是由于加锁本身需要消耗资源，因此在锁定数据较多情况下使用表锁可以节省大量资源。MySQL中不同的存储引擎支持的锁是不一样的，例如MyIsam只支持表锁，而InnoDB同时支持表锁和行锁，且出于性能考虑，绝大多数情况下使用的都是行锁。</p>
</li>
<li><p>一个事务写操作对另一个事务写操作的影响，MVCC保证隔离性</p>
<p>InnoDB默认的隔离级别是RR（REPEATABLE READ），RR解决脏读、不可重复读、幻读等问题，使用的是MVCC。MVCC全称Multi-Version Concurrency Control，即多版本并发控制。它最大的优点是读不加锁，因此读写不冲突，并发性能好。InnoDB实现MVCC，多个版本的数据可以共存，主要基于以下技术及数据结构：</p>
<p>隐藏列：InnoDB中每行数据都有隐藏列，隐藏列中包含了本行数据的事务id、指向undo log的指针等。</p>
<p>基于undo log的版本链：每行数据的隐藏列中包含了指向undo log的指针，而每条undo log也会指向更早版本的undo log，从而形成一条版本链。</p>
<p>ReadView：通过隐藏列和版本链，MySQL可以将数据恢复到指定版本。但是具体要恢复到哪个版本，则需要根据ReadView来确定。所谓ReadView，是指事务（记做事务A）在某一时刻给整个事务系统（trx_sys）打快照，之后再进行读操作时，会将读取到的数据中的事务id与trx_sys快照比较，从而判断数据对该ReadView是否可见，即对事务A是否可见。</p>
</li>
</ol>
<h5 id="一致性实现原理"><a href="#一致性实现原理" class="headerlink" title="一致性实现原理"></a>一致性实现原理</h5><p>一致性要求事务中的数据变化规则与现实世界事物变化规则一致。。。。。</p>
<p>以转账为例，现实世界中，张三给李四100个贝壳，张三失去100贝和李四获取100贝是同时发生的，所以对于数字化实现而言，张三账户贝壳余额减100和李四账户贝壳加100必须位于同一个事务中以保证数字规则对现实规则的模拟</p>
<h2 id="InnoDB事务实现"><a href="#InnoDB事务实现" class="headerlink" title="InnoDB事务实现"></a>InnoDB事务实现</h2><img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20241021163214889.png" class="" title="image-20241021163214889">

<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220915190459074.png" class="" title="image-20220915190459074">

<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220915190603973.png" class="" title="image-20220915190603973">









<h3 id="原子性如何保证"><a href="#原子性如何保证" class="headerlink" title="原子性如何保证"></a>原子性如何保证</h3><img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220915192802674.png" class="" title="image-20220915192802674">



<h3 id="一致性如何保证"><a href="#一致性如何保证" class="headerlink" title="一致性如何保证"></a>一致性如何保证</h3><p>。。。</p>
<h3 id="隔离性如何保证"><a href="#隔离性如何保证" class="headerlink" title="隔离性如何保证"></a>隔离性如何保证</h3><p>在加锁的基础上使用MVCC进行优化，MVCC文末详解</p>
<h3 id="持久性如何保证"><a href="#持久性如何保证" class="headerlink" title="持久性如何保证"></a>持久性如何保证</h3><img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220915191042640.png" class="" title="image-20220915191042640">

<p><font color="red">redolog刷新到磁盘是事务的一部分，如果失败则事务提交不成功</font></p>
<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220915191225402.png" class="" title="image-20220915191225402">





<img src="/2025/09/01/DatabaseSystem/MySQL2/7.1.InnoDB/image-20220915192023012.png" class="" title="image-20220915192023012">

<p>redolog，追加日志，写的形式是顺序磁盘IO，而对于更改的数据，整体上是随机更改的，写的时候就是随机磁盘IO，前者效率较高，所以使用redolog保证持久化，而直接将脏页写入磁盘也可以，但由于性能较差，其持久性可靠程度并不如redolog日志</p>
<p>脏页写入磁盘后，相应部分的redolog便不再需要保存</p>
<p>当然还有binlog</p>
<h3 id="事务隔离级别"><a href="#事务隔离级别" class="headerlink" title="事务隔离级别"></a>事务隔离级别</h3><p>InnoDB 提供 SQL:1992 标准所描述的全部四种事务隔离级别：<br>未提交读（READ UNCOMMITTED）、<br>已提交读（READ COMMITTED）、<br>可重复读（REPEATABLE READ） 以及<br>可串行化（SERIALIZABLE）</p>
<p>MySQL 中隔离级别默认采用 REPEATABLE READ。</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">脏读</th>
<th align="left">不可重复读</th>
<th align="left">幻读</th>
</tr>
</thead>
<tbody><tr>
<td align="left">READ UNCOMMITTED</td>
<td align="left">Y</td>
<td align="left">Y</td>
<td align="left">Y</td>
</tr>
<tr>
<td align="left">READ COMMITTED</td>
<td align="left">N</td>
<td align="left">Y</td>
<td align="left">Y</td>
</tr>
<tr>
<td align="left">REPEATABLE READ（默认）</td>
<td align="left">N</td>
<td align="left">N</td>
<td align="left">N</td>
</tr>
<tr>
<td align="left">SERIALIZABLE</td>
<td align="left">N</td>
<td align="left">N</td>
<td align="left">N</td>
</tr>
</tbody></table>
<blockquote>
<p>这四种隔离级别的实现机制如下：</p>
<ol>
<li><p>READ UNCOMMITTED &amp; READ COMMITTED：</p>
<p>通过Record Lock算法实现了行锁，但READ UNCOMMITTED允许读取未提交数据，所以存在脏读问题。而READ COMMITTED允许读取提交数据，所以不存在脏读问题，但存在不可重复读问题。</p>
</li>
<li><p>REPEATABLE READ：</p>
<p>使用Next-Key Lock算法实现了行锁，并且不允许读取已提交的数据，所以解决了不可重复读的问题。另外，该算法包含了间隙锁，会锁定一个范围，因此也解决了幻读的问题。</p>
</li>
<li><p>SERIALIZABLE：</p>
<p>对每个SELECT语句后自动加上LOCK IN SHARE MODE，即为每个读取操作加一个共享锁。因此在这个事务隔离级别下，读占用了锁，对一致性的非锁定读不再予以支持。</p>
</li>
</ol>
<p>4种隔离级别MySQL都支持，并且InnoDB存储引擎默认的支持隔离级别是REPEATABLE READ，但是与标准SQL不同的是，InnoDB存储引擎在REPEATABLE READ事务隔离级别下，使用Next-Key Lock的锁算法，因此避免了幻读的产生。所以，InnoDB存储引擎在默认的事务隔离级别下已经能完全保证事务的隔离性要求，即达到SQL标准的SERIALIZABLE隔离级别。</p>
</blockquote>
<h4 id="可重复读"><a href="#可重复读" class="headerlink" title="可重复读"></a>可重复读</h4><p>这是<code>InnoDB</code>的默认隔离级别。同一事务中的<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_consistent_read">一致性读取</a>会读取由第一次读取所建立的<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_snapshot">快照</a>。这意味着，如果在同一事务中执行多个普通（非锁定）<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/select.html"><code>SELECT</code></a>语句，这些<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/select.html"><code>SELECT</code></a>语句彼此之间也是一致的。参见<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-consistent-read.html">第 17.7.2.3 节，“一致性非锁定读取”</a>。</p>
<p>对于锁定读取（带<code>FOR UPDATE</code>或<code>FOR SHARE</code>的<code>SELECT</code>）、<code>UPDATE</code>和<code>DELETE</code>语句，其锁定范围取决于语句的查询条件：</p>
<ul>
<li>若使用<strong>唯一索引且搜索条件唯一</strong>（如通过主键精准查询某条记录），InnoDB 仅锁定找到的索引记录，不会锁定该记录之前的间隙。</li>
<li>若为<strong>其他搜索条件</strong>（如范围查询、非唯一索引查询等），InnoDB 会锁定扫描到的索引范围，并通过间隙锁或下一键锁，阻止其他会话向该范围内的间隙插入数据。</li>
</ul>
<blockquote>
<p>[!TIP]</p>
<p>不建议在单个可重复读取事务中将锁定语句（UPDATE、INSERT、DELETE或带<code>FOR UPDATE</code>或<code>FOR SHARE</code>的<code>SELECT</code>）与非锁定SELECT语句混合使用，因为通常在这种情况下，您需要SERIALIZABLE。这是因为非锁定SELECT语句从读取视图显示数据库的状态，该视图由创建读取视图之前和当前事务自身写入之前提交的事务组成，而锁定语句使用数据库的最新状态来使用锁定。一般来说，这两种不同的表状态彼此不一致，难以解析。</p>
</blockquote>
<h4 id="读已提交"><a href="#读已提交" class="headerlink" title="读已提交"></a>读已提交</h4><p>每一次一致性读取，即便在同一个事务内，都会设置并读取自己全新的快照。</p>
<p>对于锁定读取（<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/select.html"><code>SELECT</code></a> 与 <code>FOR UPDATE</code> 或 <code>FOR SHARE）、</code><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/update.html"><code>UPDATE</code></a> 语句和 <a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/delete.html"><code>DELETE</code></a> 语句，<code>InnoDB</code> 仅锁定索引 记录，而不是它们面前的空白，从而允许自由 在锁定的记录旁边插入新记录。间隙锁定 仅用于外键约束检查和 重复键检查。</p>
<p>由于间隙锁定被禁用，可能会出现幻影行问题，因为其他会话可以在间隙中插入新行。有关幻影行的信息，请参阅<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-next-key-locking.html">第 17.7.4 节 “幻影行”</a>。</p>
<ol>
<li><strong>核心限制</strong>：当事务隔离级别设置为<code>READ COMMITTED</code>时，仅支持<strong>基于行的二进制日志格式（row-based logging）</strong>。这是因为该隔离级别下的锁定机制（如不使用间隙锁）可能导致语句级日志（statement-based）无法准确记录事务行为，而基于行的日志能更精确地记录每行数据的修改。</li>
<li><strong>自动适配</strong>：若隔离级别为<code>READ COMMITTED</code>，且二进制日志格式设置为<code>MIXED</code>（混合模式，会根据场景自动选择语句级或行级日志），MySQL 服务器会<strong>自动切换为行级日志</strong>，以确保日志的准确性和一致性。</li>
</ol>
<p>对于 UPDATE或 DELETE语句， InnoDB仅对其更新或删除的行持有锁。在MySQL评估完 WHERE条件后，会释放不匹配行的记录锁。这极大地降低了死锁的可能性，但死锁仍有可能发生。</p>
<p>对于<br><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/update.html"><code>UPDATE</code></a>语句，如果某一行已被锁定，<br><code>InnoDB</code>会执行一次<br>“半一致” 读取，将最新提交的版本返回给 MySQL，以便 MySQL 能够判断该行是否符合<br><code>WHERE</code>条件以及<br><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/update.html"><code>UPDATE</code></a>。如果该行匹配（必须更新），MySQL 会再次读取该行，此时<br><code>InnoDB</code>要么锁定该行，要么等待获取该行的锁。</p>
<h4 id="读未提交"><a href="#读未提交" class="headerlink" title="读未提交"></a>读未提交</h4><p><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/select.html"><code>SELECT</code></a>语句以非锁定方式执行，但可能会使用行的早期版本。因此，使用此隔离级别时，此类读取是不一致的。这也称为<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/glossary.html#glos_dirty_read">脏读</a>。除此之外，此隔离级别的工作方式与<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/innodb-transaction-isolation-levels.html#isolevel_read-committed"><code>READ COMMITTED</code></a>类似。</p>
<h4 id="可串行化"><a href="#可串行化" class="headerlink" title="可串行化"></a>可串行化</h4><ul>
<li><p><strong>与 REPEATABLE READ 的关联</strong>：SERIALIZABLE 本质上基于 REPEATABLE READ（可重复读），但增加了更严格的锁定机制。</p>
</li>
<li><p>针对普通 SELECT 的特殊处理</p>
<p>：</p>
<ul>
<li>当<strong>autocommit（自动提交）禁用</strong>时，InnoDB 会自动将所有普通 SELECT 语句转换为 <code>SELECT ... FOR SHARE</code>（共享锁查询），即读取时会对记录加共享锁，防止其他事务修改。</li>
<li>当<strong>autocommit 启用</strong>时，单个 SELECT 语句自身就是一个独立事务，因只读特性，可通过一致性非锁定读实现序列化，无需阻塞其他事务。</li>
</ul>
</li>
<li><p><strong>强制阻塞的场景</strong>：若希望普通 SELECT 在其他事务修改过目标行时主动阻塞（确保读取最新且未被修改的数据），需禁用 autocommit。</p>
</li>
</ul>
<p>从 MySQL 授权表读取数据（通过连接列表或子查询）但不修改它们的 DML 操作，无论隔离级别如何，都不会在 MySQL 授权表上获取读锁。有关更多信息，请参阅<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.4/en/grant-tables.html#grant-tables-concurrency">授权表并发</a>。</p>

</div>

<!-- post-guide -->

    <div class="post-guide">
        <div class="item left">
            
        </div>
        <div class="item right">
            
              <a href="/2025/09/01/DatabaseSystem/README/">
                README
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </a>
            
        </div>
    </div>


<!-- comment - giscus -->


<!-- comment - valine -->


<script>
	
	
</script>

	</div>
	<div id="footer">
	<p>
	©<span id="footerYear-start"></span>-<span id="footerYear-end"></span>

	
	    <a href="/">予早</a>
	
	
	
	<br>
	Theme <a href="//github.com/wujun234/hexo-theme-tree" target="_blank">Tree</a>
	by <a href="//wujun.me" target="_blank">Wu Jun</a>
	Powered by <a href="//hexo.io" target="_blank">Hexo</a>
	</p>
</div>


<script type="text/javascript">
	document.getElementById('footerYear-start').innerHTML = new Date().getFullYear() + '';
</script>

<script type="text/javascript">
	document.getElementById('footerYear-end').innerHTML = new Date().getFullYear() + '';
</script>

	<button id="totop-toggle" class="toggle"><i class="fa fa-angle-double-up" aria-hidden="true"></i></button>
</body>
</html>