<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	
	<!-- title -->
	
	<title>
	
		分布式事务 | 
	 
	予早 Tech
	</title>
	
	<!-- keywords,description -->
	
	

	<!-- favicon -->
	


	<!-- search -->
	<script>
		var searchEngine = "";
		if(typeof searchEngine == "undefined" || searchEngine == null || searchEngine == ""){
			searchEngine = "https://www.google.com/search?q=";
		}
		var homeHost = "";
		if(typeof homeHost == "undefined" || homeHost == null || homeHost == ""){
			homeHost = window.location.host;
		}
	</script>


	
<link rel="stylesheet" href="/css/main.css">

	
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/darcula.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">


	
<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.0/dist/jquery.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>

	
<script src="/js/main.js"></script>


	
	

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
	<header id="header">
    <a id="title" href="/" class="logo">予早 Tech</a>

	<ul id="menu">
    

    

    

    
  
    
	</ul>
</header>

	
<div id="sidebar">
	<button id="sidebar-toggle" class="toggle" ><i class="fa fa-arrow-right " aria-hidden="true"></i></button>
	
	<div id="site-toc">
		<input id="search-input" class="search-input" type="search" placeholder="Press Enter to search">
		<div id="tree">
			

			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										BusinessSystem
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										电商系统
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/BusinessSystem/%E7%94%B5%E5%95%86%E7%B3%BB%E7%BB%9F/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										统一消息推送
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/BusinessSystem/%E7%BB%9F%E4%B8%80%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81/%E7%9F%AD%E4%BF%A1%E6%B6%88%E6%81%AF%E6%A8%A1%E6%9D%BF/">
                     
										    短信消息模板
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										CloudNative
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Harbor
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/CloudNative/Harbor/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Jenkins
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/CloudNative/Jenkins/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Kubernetes
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										backup
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/CloudNative/Kubernetes/backup/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/CloudNative/Kubernetes/%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/">
                     
										    集群搭建
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/CloudNative/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										CloudPlatform
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/CloudPlatform/OSS/">
                     
										    OSS
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										ComputerBasic
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										操作系统
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/KB%E3%80%81KiB/">
                     
										    KB、KiB
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										UNIX-likeOS
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/UID%E3%80%81EUID/">
                     
										    UID、EUID
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/export/">
                     
										    export
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/linux%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5/">
                     
										    linux时间同步
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/make%E3%80%81cmake/">
                     
										    make、cmake
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/ps/">
                     
										    ps
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/sed/">
                     
										    sed
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/shell/">
                     
										    shell
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/systemd/">
                     
										    systemd
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/%E7%A3%81%E7%9B%98%E6%89%A9%E5%AE%B9/">
                     
										    磁盘扩容
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/UNIX-likeOS/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91/">
                     
										    输入输出重定向
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										WindowsOS
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/WindowsOS/PowerShell%20/">
                     
										    PowerShell 
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/WindowsOS/Windows%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/">
                     
										    Windows环境变量
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/WindowsOS/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/">
                     
										    实用工具
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/x86%E3%80%81x64/">
                     
										    x86、x64
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/21/ComputerBasic/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B/">
                     
										    多线程模型
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										计算机网络
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerBasic/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										ComputerLanguage
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										C、C++
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/C%E3%80%81C++/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Go
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										1.语言基础
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/12/09/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/1.%E6%A6%82%E8%BF%B0/">
                     
										    1.概述
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/11/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/10.%E5%87%BD%E6%95%B0/">
                     
										    10.函数
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/11.%E5%BC%82%E5%B8%B8/">
                     
										    11.异常
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/12.%E5%85%83%E7%BC%96%E7%A8%8B/">
                     
										    12.元编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/19/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/13.%E6%BA%90%E6%96%87%E4%BB%B6%E9%97%B4%E7%BB%93%E6%9E%84%E7%BB%84%E7%BB%87/">
                     
										    13.源文件间结构组织
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/19/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/14.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/">
                     
										    14.面向对象编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/09/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/2.%E5%8E%86%E5%8F%B2/">
                     
										    2.历史
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/3.1%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%A8%A1%E5%BC%8F/">
                     
										    3.1代码执行模式
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/09/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/3.%E7%8E%AF%E5%A2%83/">
                     
										    3.环境
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/09/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/4.%E6%A0%87%E8%AF%86%E7%AC%A6/">
                     
										    4.标识符
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/11/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/5.%E5%B8%B8%E9%87%8F%E4%B8%8E%E5%8F%98%E9%87%8F/">
                     
										    5.常量与变量
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/09/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/6.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">
                     
										    6.数据类型
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/11/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/7.%E8%BF%90%E7%AE%97%E7%AC%A6/">
                     
										    7.运算符
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/11/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/8.%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">
                     
										    8.流程控制
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/11/ComputerLanguage/Go/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/9.%E6%B3%A8%E9%87%8A/">
                     
										    9.注释
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										2.功能基础
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/12/20/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/1.%E7%BC%96%E8%A7%A3%E7%A0%81/">
                     
										    1.编解码
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/21/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/10.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/">
                     
										    10.并发编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/11.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/">
                     
										    11.网络编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/20/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/2.%E5%8A%A0%E8%A7%A3%E5%AF%86/">
                     
										    2.加解密
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/3.IO/">
                     
										    3.IO
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/20/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/4.%E6%95%B0%E5%AD%A6/">
                     
										    4.数学
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/5.%E6%97%B6%E9%97%B4/">
                     
										    5.时间
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/6.%E7%B3%BB%E7%BB%9F/">
                     
										    6.系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/21/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/7.%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">
                     
										    7.基础数据结构与算法
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/20/ComputerLanguage/Go/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/9.%E7%BB%9F%E4%B8%80%E6%97%A5%E5%BF%97/">
                     
										    9.统一日志
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										3.运行时
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Go/3.%E8%BF%90%E8%A1%8C%E6%97%B6/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/">
                     
										    内存管理
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										4.主要规范
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/Go/4.%E4%B8%BB%E8%A6%81%E8%A7%84%E8%8C%83/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/Go/4.%E4%B8%BB%E8%A6%81%E8%A7%84%E8%8C%83/%E6%A0%BC%E5%BC%8F%E5%8C%96/">
                     
										    格式化
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/Go/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										JavaScript
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/JavaScript/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Java
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										2.功能基础
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Java/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/10.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/">
                     
										    10.并发编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Python
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										1.语言基础
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/06/26/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/1.%E6%A6%82%E8%BF%B0/">
                     
										    1.概述
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/27/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/10.%E6%B3%A8%E9%87%8A/">
                     
										    10.注释
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/11.1.%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/">
                     
										    11.1.内置函数
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/11.%E5%87%BD%E6%95%B0/">
                     
										    11.函数
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/12.%E5%BC%82%E5%B8%B8/">
                     
										    12.异常
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/13.%E5%85%83%E7%BC%96%E7%A8%8B/">
                     
										    13.元编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/14.%E6%BA%90%E6%96%87%E4%BB%B6%E9%97%B4%E7%BB%93%E6%9E%84%E7%BB%84%E7%BB%87/">
                     
										    14.源文件间结构组织
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/15.1.%E5%86%85%E7%BD%AE%E7%B1%BB/">
                     
										    15.1.内置类
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/15.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/">
                     
										    15.面向对象编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/16.%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/">
                     
										    16.函数式编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/17.%E6%B5%81%E5%BC%8F%E7%BC%96%E7%A8%8B/">
                     
										    17.流式编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/18.%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B/">
                     
										    18.面向切面编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/26/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/2.%E5%8E%86%E5%8F%B2/">
                     
										    2.历史
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/3.1.%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%A8%A1%E5%BC%8F/">
                     
										    3.1.代码执行模式
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/3.2.__main__/">
                     
										    3.2.__main__
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/3.%E7%8E%AF%E5%A2%83/">
                     
										    3.环境
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/26/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/4.%E5%85%B3%E9%94%AE%E5%AD%97%E5%92%8C%E6%A0%87%E8%AF%86%E7%AC%A6/">
                     
										    4.关键字和标识符
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/5.%E5%B8%B8%E9%87%8F%E4%B8%8E%E5%8F%98%E9%87%8F/">
                     
										    5.常量与变量
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/6.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">
                     
										    6.数据类型
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/7.%E8%BF%90%E7%AE%97%E7%AC%A6/">
                     
										    7.运算符
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/27/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/8.%E8%A1%A8%E8%BE%BE%E5%BC%8F/">
                     
										    8.表达式
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/26/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/9.%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">
                     
										    9.流程控制
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/1.%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E4%B8%8A%E4%B8%8B%E6%96%87/">
                     
										    上下文
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										2.功能基础
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/1.%E7%BC%96%E8%A7%A3%E7%A0%81/">
                     
										    1.编解码
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/10.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/">
                     
										    10.并发编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/11.%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/">
                     
										    11.单元测试
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/12.Debug/">
                     
										    12.Debug
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/13.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/">
                     
										    13.网络编程
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/14.%E5%9B%BD%E9%99%85%E5%8C%96%E5%92%8C%E6%9C%AC%E5%9C%B0%E5%8C%96/">
                     
										    14.国际化和本地化
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/11/30/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/15.%E6%96%87%E6%A1%A3%E5%8C%96/">
                     
										    15.文档化
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/11/30/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/16.%E8%B7%A8%E8%AF%AD%E8%A8%80%E8%B0%83%E7%94%A8/">
                     
										    16.跨语言调用
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/2.%E5%8A%A0%E8%A7%A3%E5%AF%86/">
                     
										    2.加解密
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/3.IO/">
                     
										    3.IO
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/4.%E6%95%B0%E5%AD%A6/">
                     
										    4.数学
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/5.%E6%97%B6%E9%97%B4/">
                     
										    5.时间
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/6.%E7%B3%BB%E7%BB%9F/">
                     
										    6.系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/7.%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">
                     
										    7.基础数据结构与算法
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/8.%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2/">
                     
										    8.图形用户界面
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/05/ComputerLanguage/Python/2.%E5%8A%9F%E8%83%BD%E5%9F%BA%E7%A1%80/9.%E7%BB%9F%E4%B8%80%E6%97%A5%E5%BF%97/">
                     
										    9.统一日志
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										3.解释器
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/01/08/ComputerLanguage/Python/3.%E8%A7%A3%E9%87%8A%E5%99%A8/%E5%A6%82%E4%BD%95%E5%88%9D%E6%AD%A5%E4%BA%86%E8%A7%A3%E8%A7%A3%E9%87%8A%E5%99%A8%E5%8E%9F%E7%90%86/">
                     
										    如何初步了解解释器原理
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/3.%E8%A7%A3%E9%87%8A%E5%99%A8/%E8%A7%81CPython3.7%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/">
                     
										    见CPython3.7源码剖析
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										4.三方组件
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/0.%E5%B8%B8%E7%94%A8%E5%8A%9F%E8%83%BD%E5%BA%93%E4%B8%80%E8%A7%88/">
                     
										    0.常用功能库一览
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/1.%E5%88%86%E8%AF%8D%E3%80%81%E8%AF%8D%E4%BA%91/">
                     
										    1.分词、词云
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/2.matplotlib/">
                     
										    2.matplotlib
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/3.pycurl/">
                     
										    3.pycurl
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/4.celery/">
                     
										    4.celery
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/5.pandas/">
                     
										    5.pandas
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/6.%E6%96%87%E6%A1%A3/">
                     
										    6.文档
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/7.pyan/">
                     
										    7.pyan
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/8.tqdm/">
                     
										    8.tqdm
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/Python/4.%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6/pydantic/">
                     
										    pydantic
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										4.主要规范
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/Python/4.%E4%B8%BB%E8%A6%81%E8%A7%84%E8%8C%83/1.%E6%A6%82%E8%BF%B0/">
                     
										    1.概述
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/Python/4.%E4%B8%BB%E8%A6%81%E8%A7%84%E8%8C%83/PEP%20249%20-%20Python%20%E6%95%B0%E6%8D%AE%E5%BA%93%20API%20%E8%A7%84%E8%8C%83%20v2.0/">
                     
										    PEP 249 - Python 数据库 API 规范 v2.0
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/11/30/ComputerLanguage/Python/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/ComputerLanguage/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										编程语言理论
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E7%90%86%E8%AE%BA/%E5%8D%AB%E8%AF%AD%E5%8F%A5/">
                     
										    卫语句
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E7%90%86%E8%AE%BA/%E8%AF%AD%E5%8F%A5/">
                     
										    语句
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/22/ComputerLanguage/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E7%90%86%E8%AE%BA/%E8%AF%AD%E8%A8%80%E7%B1%BB%E5%9E%8B/">
                     
										    语言类型
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/ComputerLanguage/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84%E9%97%AD%E5%8C%85/">
                     
										    计算机语言中的闭包
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										CyberSecurity
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/CyberSecurity/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										安全问题及解决方案
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/CyberSecurity/%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/CSRF/">
                     
										    CSRF
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/CyberSecurity/%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/SQL%20Injection/">
                     
										    SQL Injection
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/CyberSecurity/%E8%AF%81%E4%B9%A6/">
                     
										    证书
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										DatabaseSystem
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/5./">
                     
										    5.
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										ClickHouse
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/ClickHouse/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										ElasticStack
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/ElasticStack/ES%E5%88%86%E7%89%87%E6%95%B0%E9%87%8F%E4%BC%98%E5%8C%96/">
                     
										    ES分片数量优化
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/ElasticStack/Elasticsearch/">
                     
										    Elasticsearch
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/ElasticStack/KQL/">
                     
										    KQL
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/ElasticStack/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Kafka
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/Kafka/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										MongoDB
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MongoDB/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/MongoDB/%E5%91%BD%E4%BB%A4/">
                     
										    命令
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										MySQL
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/MySQL/5.1SQL/">
                     
										    5.1SQL
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL/5.SQL/">
                     
										    5.SQL
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL/5.SQL2/">
                     
										    5.SQL2
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/5.SQL2changjing/">
                     
										    5.SQL2changjing
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/666.11.%E8%B0%83%E4%BC%98/">
                     
										    666.11.调优
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/666.5.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/">
                     
										    666.5.数据库设计
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/666.6.1%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88/">
                     
										    666.6.1索引失效
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/666.explain/">
                     
										    666.explain
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/666.%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF%E5%AE%9E%E8%B7%B5/">
                     
										    666.业务场景实践
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/666.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B9%B6%E5%8F%91%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90/">
                     
										    666.数据库并发问题分析
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/MySQL/9.%E5%91%BD%E4%BB%A4/">
                     
										    9.命令
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/InnoDB/">
                     
										    InnoDB
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL/%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF%E5%AE%9E%E8%B7%B5/">
                     
										    业务场景实践
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										MySQL2
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL2/1.%E7%AE%80%E4%BB%8B/">
                     
										    1.简介
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL2/10.%E5%88%86%E5%8C%BA/">
                     
										    10.分区
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL2/2.%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/">
                     
										    2.安装配置
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL2/3.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">
                     
										    3.数据类型
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL2/3.%E7%BC%96%E8%A7%A3%E7%A0%81/">
                     
										    3.编解码
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL2/4.%E8%BF%90%E7%AE%97%E7%AC%A6/">
                     
										    4.运算符
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL2/5.%E5%87%BD%E6%95%B0/">
                     
										    5.函数
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL2/6.SQL%E8%AF%AD%E5%8F%A5/">
                     
										    6.SQL语句
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL2/7.2.%E5%85%B6%E4%BB%96%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/">
                     
										    7.2.其他存储引擎
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/21/DatabaseSystem/MySQL2/7.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/">
                     
										    7.数据库存储引擎
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/MySQL2/8.%E9%9B%86%E7%BE%A4/">
                     
										    8.集群
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL2/9.%E5%AE%89%E5%85%A8/">
                     
										    9.安全
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL2/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										client
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/05/27/DatabaseSystem/MySQL2/client/Flask-SQLAlchemy/">
                     
										    Flask-SQLAlchemy
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/27/DatabaseSystem/MySQL2/client/PyMySQL/">
                     
										    PyMySQL
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/26/DatabaseSystem/MySQL2/client/SQLAlchemy/">
                     
										    SQLAlchemy
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL2/client/TortoiseORM/">
                     
										    TortoiseORM
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/MySQL2/client/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/09/01/DatabaseSystem/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										RabbitMQ
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/0.Erlang%E3%80%81OTP/">
                     
										    0.Erlang、OTP
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/1.%E5%9F%BA%E7%A1%80/">
                     
										    1.基础
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/10.Configuration/">
                     
										    10.Configuration
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/11.%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/">
                     
										    11.部署指南
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/12.%E9%9B%86%E7%BE%A4/">
                     
										    12.集群
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/13.Manage/">
                     
										    13.Manage
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/14.%E5%AE%A2%E6%88%B7%E7%AB%AF/">
                     
										    14.客户端
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/15.Subject/">
                     
										    15.Subject
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/16.TroubleShooting/">
                     
										    16.TroubleShooting
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/17.Monitor/">
                     
										    17.Monitor
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/18.Cluster/">
                     
										    18.Cluster
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/19.%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/">
                     
										    19.应用场景
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/2.VirtualHost/">
                     
										    2.VirtualHost
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/RabbitMQ/20.%E6%8F%92%E4%BB%B6/">
                     
										    20.插件
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/21.TLS%E6%94%AF%E6%8C%81/">
                     
										    21.TLS支持
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/22.%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/">
                     
										    22.性能测试
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/23.RabbitMQ%20rabbitmq.conf%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3/">
                     
										    23.RabbitMQ rabbitmq.conf配置文件详解
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/RabbitMQ/24.%E5%AE%9E%E8%B7%B5%E6%8A%80%E5%B7%A7/">
                     
										    24.实践技巧
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/3.User/">
                     
										    3.User
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/4.Message/">
                     
										    4.Message
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/5.Exchange/">
                     
										    5.Exchange
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/6.1.Classic%20Queue/">
                     
										    6.1.Classic Queue
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/6.2.Quorum%20Queue/">
                     
										    6.2.Quorum Queue
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/6.3.Stream%20Queue/">
                     
										    6.3.Stream Queue
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/6.Queue/">
                     
										    6.Queue
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/7.1.Channel/">
                     
										    7.1.Channel
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/7.Connection/">
                     
										    7.Connection
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/8.Producer/">
                     
										    8.Producer
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/RabbitMQ/9.Consumer/">
                     
										    9.Consumer
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Redis
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/07/01/DatabaseSystem/Redis/1.%E7%AE%80%E4%BB%8B/">
                     
										    1.简介
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/19/DatabaseSystem/Redis/10.%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/">
                     
										    10.最佳实践
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Redis/11.Lua%E8%84%9A%E6%9C%AC/">
                     
										    11.Lua脚本
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										11.client
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Redis/11.client/Jedis/">
                     
										    Jedis
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Redis/11.client/Lettuce/">
                     
										    Lettuce
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Redis/11.client/python-redis-lock/">
                     
										    python-redis-lock
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Redis/11.client/redispy/">
                     
										    redispy
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										12.业务实战
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/11/29/DatabaseSystem/Redis/12.%E4%B8%9A%E5%8A%A1%E5%AE%9E%E6%88%98/1.OpenResty/">
                     
										    1.OpenResty
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Redis/12.%E4%B8%9A%E5%8A%A1%E5%AE%9E%E6%88%98/2.%E5%A4%9A%E7%BA%A7%E7%BC%93%E5%AD%98%E6%96%B9%E6%A1%88/">
                     
										    2.多级缓存方案
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Redis/12.%E4%B8%9A%E5%8A%A1%E5%AE%9E%E6%88%98/3.%E5%85%B6%E4%BB%96/">
                     
										    3.其他
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/DatabaseSystem/Redis/12.%E4%B8%9A%E5%8A%A1%E5%AE%9E%E6%88%98/4.%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8/">
                     
										    4.布隆过滤器
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/07/01/DatabaseSystem/Redis/2.%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/">
                     
										    2.安装配置
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/07/02/DatabaseSystem/Redis/3.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">
                     
										    3.数据类型
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/17/DatabaseSystem/Redis/4.%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                     
										    4.底层数据结构
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/18/DatabaseSystem/Redis/5.%E5%91%BD%E4%BB%A4/">
                     
										    5.命令
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/19/DatabaseSystem/Redis/6.%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/">
                     
										    6.内存管理
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/19/DatabaseSystem/Redis/7.%E9%9B%86%E7%BE%A4/">
                     
										    7.集群
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/17/DatabaseSystem/Redis/8.%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B/">
                     
										    8.网络模型
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/19/DatabaseSystem/Redis/8.%E9%83%A8%E7%BD%B2/">
                     
										    8.部署
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/17/DatabaseSystem/Redis/9.%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/">
                     
										    9.通信协议
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Tool
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Tool/DBeaver/">
                     
										    DBeaver
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/DatabaseSystem/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Data
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										文件格式
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/BSON/">
                     
										    BSON
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/23/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/CSV/">
                     
										    CSV
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/JSON/">
                     
										    JSON
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/Markdown/">
                     
										    Markdown
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/23/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/TSV/">
                     
										    TSV
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/XML/">
                     
										    XML
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/YAML/">
                     
										    YAML
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/ini/">
                     
										    ini
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/properties/">
                     
										    properties
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Design
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/Design/%E5%93%88%E5%B8%8C%E4%B8%80%E8%87%B4%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">
                     
										    哈希一致解决方案
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Design/%E6%9E%B6%E6%9E%84%E6%BC%94%E5%8F%98/">
                     
										    架构演变
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Design/%E7%BC%93%E5%AD%98%E7%BB%BC%E5%90%88%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">
                     
										    缓存综合解决方案
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Mantaince
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/Mantaince/Jenkins/">
                     
										    Jenkins
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Mantaince/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/Question/">
                     
										    Question
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										SystemDesign
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/IM%E7%B3%BB%E7%BB%9F/">
                     
										    IM系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E4%BA%8C%E7%BB%B4%E7%A0%81%E7%B3%BB%E7%BB%9F/">
                     
										    二维码系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E4%BC%9A%E5%91%98%E7%B3%BB%E7%BB%9F/">
                     
										    会员系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E5%88%86%E5%B8%83%E5%BC%8F%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA%E6%9C%8D%E5%8A%A1/">
                     
										    分布式链路追踪服务
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E5%9C%A8%E7%BA%BF%E6%95%99%E8%82%B2%E7%B3%BB%E7%BB%9F/">
                     
										    在线教育系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E5%A4%A7%E6%B5%81%E9%87%8F%E9%97%A8%E6%88%B7%E7%AB%99%E5%86%85%E4%BF%A1/">
                     
										    大流量门户站内信
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD/">
                     
										    扫码登录功能
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E7%94%B5%E5%95%86%E7%B3%BB%E7%BB%9F/">
                     
										    电商系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/03/09/SystemDesign/%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E7%B3%BB%E7%BB%9F/">
                     
										    电子邮件系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/SystemDesign/%E7%9F%AD%E9%93%BE%E7%B3%BB%E7%BB%9F/">
                     
										    短链系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F/">
                     
										    秒杀系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/SystemDesign/%E8%A7%86%E9%A2%91%E7%B3%BB%E7%BB%9F/">
                     
										    视频系统
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Test
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/Test/Untitled/">
                     
										    Untitled
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/Test/%E5%8E%8B%E6%B5%8B%E5%B7%A5%E5%85%B7/">
                     
										    压测工具
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Test/%E6%A6%82%E8%BF%B0/">
                     
										    概述
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/Test/%E6%B5%81%E9%87%8F%E6%8B%B7%E8%B4%9D/">
                     
										    流量拷贝
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Tool
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/Anki/">
                     
										    Anki
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/Clash/">
                     
										    Clash
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/04/01/Tool/Cron%E8%A1%A8%E8%BE%BE%E5%BC%8F/">
                     
										    Cron表达式
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/Electron/">
                     
										    Electron
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/26/Tool/Git/">
                     
										    Git
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/26/Tool/GoogleChrome/">
                     
										    GoogleChrome
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/Graphviz/">
                     
										    Graphviz
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/He3/">
                     
										    He3
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/26/Tool/Hexo/">
                     
										    Hexo
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/JetBrainTool/">
                     
										    JetBrainTool
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/LaTex/">
                     
										    LaTex
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/License/">
                     
										    License
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/PDManer/">
                     
										    PDManer
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/Poedit/">
                     
										    Poedit
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/26/Tool/Postman/">
                     
										    Postman
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/29/Tool/SSH/">
                     
										    SSH
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/24/Tool/Slidev/">
                     
										    Slidev
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/StylePix/">
                     
										    StylePix
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/11/30/Tool/VMware/">
                     
										    VMware
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/29/Tool/VSCode/">
                     
										    VSCode
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/VisualStudioCode/">
                     
										    VisualStudioCode
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/WinMerge/">
                     
										    WinMerge
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/Windows%E5%B7%A5%E5%85%B7/">
                     
										    Windows工具
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/29/Tool/cURL/">
                     
										    cURL
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/labelImg/">
                     
										    labelImg
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7/">
                     
										    代码生成工具
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/12/24/Tool/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/">
                     
										    内网穿透
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/%E5%BC%80%E5%8F%91%E4%B8%93%E7%94%A8%E7%BC%A9%E7%95%A5%E8%AF%8D/">
                     
										    开发专用缩略词
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">
                     
										    正则表达式
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/">
                     
										    测试工具
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/23/Tool/%E7%94%BB%E5%9B%BE/">
                     
										    画图
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8/">
                     
										    视频播放器
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/%E8%AF%AD%E4%B9%89%E5%8C%96%E7%89%88%E6%9C%AC/">
                     
										    语义化版本
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/Tool/%E8%B4%9D%E9%94%90/">
                     
										    贝锐
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										WebDevelopment
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Container
									</a>
									
							<ul>
								<li class="file">
									<a href="/2024/12/24/WebDevelopment/Container/Docker/">
                     
										    Docker
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Container/VMware/">
                     
										    VMware
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										Pandect
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/WebDevelopment/Pandect/Consul/">
                     
										    Consul
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/29/WebDevelopment/Pandect/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/RPC/">
                     
										    RPC
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/Ribbon%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1+OpenFeign%E8%BF%9C%E7%A8%8BHTTP%E8%B0%83%E7%94%A8/">
                     
										    Ribbon负载均衡+OpenFeign远程HTTP调用
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/Web%E8%AF%B7%E6%B1%82%E9%93%BE%E8%B7%AF%E4%B8%AD%E7%9A%84%E7%BC%93%E5%AD%98/">
                     
										    Web请求链路中的缓存
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file active">
									<a href="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/">
                     
										    分布式事务
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/%E5%A3%B0%E6%98%8E%E5%BC%8F%E4%BA%8B%E5%8A%A1%E8%BF%98%E6%98%AF%E7%BC%96%E7%A8%8B%E5%BC%8F%E4%BA%8B%E5%8A%A1/">
                     
										    声明式事务还是编程式事务
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/WebDevelopment/Pandect/%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91%E9%80%9A%E7%94%A8%E5%A5%97%E8%B7%AF/">
                     
										    接口开发通用套路
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/%E6%9E%B6%E6%9E%84/">
                     
										    架构
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/%E7%BD%91%E7%AB%99%E6%94%BB%E5%87%BB/">
                     
										    网站攻击
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/%E8%B7%A8%E5%9F%9F/">
                     
										    跨域
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/%E9%80%9F%E8%AE%B0%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83/">
                     
										    速记命名规范
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83%EF%BC%8C%E6%9C%8D%E5%8A%A1%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E9%85%8D%E7%BD%AE/">
                     
										    配置中心，服务自动更新配置
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Pandect/%E9%94%81/">
                     
										    锁
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/WebDevelopment/Pandect/%E9%99%90%E6%B5%81%E7%AE%97%E6%B3%95/">
                     
										    限流算法
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										PythonWeb
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/PythonWeb/Bottle/">
                     
										    Bottle
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/10/07/WebDevelopment/PythonWeb/Django/">
                     
										    Django
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/PythonWeb/FastAPI/">
                     
										    FastAPI
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/10/WebDevelopment/PythonWeb/Flask/">
                     
										    Flask
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/PythonWeb/README/">
                     
										    README
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/PythonWeb/Tornado/">
                     
										    Tornado
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										WebServer
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/WebServer/CGI/">
                     
										    CGI
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/WebServer/LVS/">
                     
										    LVS
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/WebServer/gunicorn/">
                     
										    gunicorn
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/WebServer/uWSGI/">
                     
										    uWSGI
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/WebServer/uvicron/">
                     
										    uvicron
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/Web%E5%BC%80%E5%8F%91%E5%85%B1%E8%AF%86/">
                     
										    Web开发共识
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/06/10/WebDevelopment/%E5%88%86%E5%B8%83%E5%BC%8F%E5%94%AF%E4%B8%80ID/">
                     
										    分布式唯一ID
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%94%9F%E6%80%81/">
                     
										    微服务生态
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/30/WebDevelopment/%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1/">
                     
										    接口设计
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2024/05/27/WebDevelopment/%E6%95%B0%E6%8D%AE%E5%88%86%E9%A1%B5%E6%96%B9%E5%BC%8F/">
                     
										    数据分页方式
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/">
                     
										    文件操作
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/WebDevelopment/%E7%BC%93%E5%AD%98%E6%96%B9%E6%A1%88/">
                     
										    缓存方案
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										backup
									</a>
									
							<ul>
								<li class="file">
									<a href="/2025/08/31/backup/k8s%20(copy)%20(copy)/">
                     
										    k8s (copy) (copy)
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/backup/k8s%20(copy)/">
                     
										    k8s (copy)
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/08/31/backup/k8s/">
                     
										    k8s
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2025/02/21/httpshelp/">
                     
										    httpshelp
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
		</div>
	</div>
</div>

	<!-- 引入正文 -->
	<div id="content" class="content">
		<h1 id="article-title">
	分布式事务
</h1>

<!-- meta -->
<div class="article-meta">
	

	<span>予早</span>
	<span>2025-02-22 17:52:41</span>

  <div id="article-categories">
    
		  <span>Categories：</span>
      
    

    
		    <span>Tags：</span>
        
    
  </div>

</div>

<!-- content -->
<div id="article-content">
	<p>使用分布式事务的目的是保证分布式系统中数据的一致性</p>
<p>不同的分布式事务实现方案对数据一致性有着不同程度的支持，下面就来分析各种方案。</p>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/640.webp" class="" title="图片">





<h3 id="为什么只能在A和C之间做出取舍？"><a href="#为什么只能在A和C之间做出取舍？" class="headerlink" title="为什么只能在A和C之间做出取舍？"></a>为什么只能在A和C之间做出取舍？</h3><p>分布式系统中，必须满足 CAP 中的 P，此时只能在 C&#x2F;A 之间作出取舍。</p>
<p>如果选择了<strong>CA</strong>，舍弃了P，说白了就是一个单体架构。</p>
<p>CAP理论告诉我们只能在C、A之间选择，在分布式事务的最终解决方案中一般选择牺牲一致性来获取可用性和分区容错性。</p>
<blockquote>
<p>这里的 “牺牲一致性” 并不是完全放弃数据的一致性，而是放弃<strong>强一致性</strong>而换取<strong>弱一致性</strong>。</p>
</blockquote>
<p>一致性可以分为以下三种：</p>
<ul>
<li>强一致性</li>
<li>弱一致性</li>
<li>最终一致性</li>
</ul>
<h3 id="强一致性"><a href="#强一致性" class="headerlink" title="强一致性"></a>强一致性</h3><p>系统中的某个数据被成功更新后，后续任何对该数据的读取操作都将得到更新后的值。</p>
<p>也称为：原子一致性（Atomic Consistency）、线性一致性（Linearizable Consistency）</p>
<p>简言之，在任意时刻，所有节点中的数据是一样的。例如，对于关系型数据库，要求更新过的数据能被后续的访问都能看到，这是强一致性。</p>
<p><strong>总结</strong>：</p>
<ul>
<li>一个集群需要对外部提供强一致性，所以只要集群内部某一台服务器的数据发生了改变，那么就需要等待集群内其他服务器的数据同步完成后，才能正常的对外提供服务。</li>
<li>保证了强一致性，务必会损耗<strong>可用性</strong>。</li>
</ul>
<h3 id="弱一致性"><a href="#弱一致性" class="headerlink" title="弱一致性"></a>弱一致性</h3><p>系统中的某个数据被更新后，后续对该数据的读取操作<strong>可能</strong>得到更新后的值，也可能是更改前的值。</p>
<p>但即使过了<strong>不一致时间窗口</strong>这段时间后，后续对该数据的读取也不一定是最新值。</p>
<p>所以说，可以理解为数据更新后，如果能容忍后续的访问只能访问到部分或者全部访问不到，则是弱一致性。</p>
<p>例如12306买火车票，虽然最后看到还剩下几张余票，但是只要选择购买就会提示没票了，这就是弱一致性。</p>
<h3 id="最终一致性"><a href="#最终一致性" class="headerlink" title="最终一致性"></a>最终一致性</h3><p>是弱一致性的<strong>特殊</strong>形式，存储系统保证在没有新的更新的条件下，最终所有的访问都是最后更新的值。</p>
<p>不保证在任意时刻任意节点上的同一份数据都是相同的，但是随着时间的迁移，不同节点上的同一份数据总是在向趋同的方向变化。</p>
<p>简单说，就是在一段时间后，节点间的数据会最终达到一致状态。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>弱一致性即使过了不一致时间窗口，后续的读取也不一定能保证一致，而最终一致过了不一致窗口后，后续的读取一定一致。</p>
<p>一个一个分析方案</p>
<ol>
<li>画一个大图，确认分布式事务方案各种方案结构</li>
<li>2PC<ol>
<li>基本概念</li>
<li>流程描述</li>
<li>优劣分析</li>
<li>场景选择</li>
</ol>
</li>
<li>3PC</li>
<li>TCC</li>
<li>SAGA</li>
<li></li>
</ol>
<p>Seata：<a target="_blank" rel="noopener" href="https://seata.apache.org/zh-cn/docs/overview/what-is-seata">https://seata.apache.org/zh-cn/docs/overview/what-is-seata</a></p>
<p>DTM：<a target="_blank" rel="noopener" href="https://dtm.pub/guide/why.html">https://dtm.pub/guide/why.html</a></p>
<p>分布式系统调用链路中允许存在任意种类数据库，数据库可以部署在任意节点。根据是否同一微服务、是否同种类数据库、是否同数据库实例、是否同数据库schema，有如下待解决的分布式事务场景：</p>
<table>
  <tr>
    <th>服务</th>
    <th>数据库</th>
    <th>解决方案</th>
  </tr>
  <tr>
    <td rowspan="4">不同微服务</td>
    <td>同种、同实例、同schema</td>
    <td>Row 1, Column 3</td>
  </tr>
  <tr>
    <td>同种、同实例、不同schema</td>
    <td>Row 2, Column 3</td>
  </tr>
  <tr>
    <td>同种、不同实例</td>
    <td>Row 2, Column 3</td>
  </tr>
  <tr>
    <td>不同种</td>
    <td>Row 2, Column 3</td>
  </tr>
  <tr>
    <td rowspan="4">同一微服务</td>
    <td>同种、同实例、同schema</td>
    <td>Row 1, Column 3</td>
  </tr>
  <tr>
    <td>同种、同实例、不同schema</td>
    <td>Row 2, Column 3</td>
  </tr>
  <tr>
    <td>同种、不同实例</td>
    <td>Row 2, Column 3</td>
  </tr>
  <tr>
    <td>不同种</td>
    <td>Row 2, Column 3</td>
  </tr>
</table>






<p>下面补充一些图：drawio</p>
<h2 id="2PC，Two-phase-Commit"><a href="#2PC，Two-phase-Commit" class="headerlink" title="2PC，Two phase Commit"></a>2PC，Two phase Commit</h2><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><p>2PC，Two phase Commit，两阶段提交，是将整个事务流程分为两个阶段，准备阶段（Prepare phase）、提交阶段（commit phase）。</p>
<ul>
<li>准备阶段，prepare phase：事务管理器给每个数据库参与者发送 prepare 消息，每个数据库参与者在本地执行事务，并写本地的 Undo&#x2F;Redo 日志（Undo 日志是记录修改前的数据，用于数据库回滚，Redo 日志是记录修改后的数据，用于提交事务后写入数据文件），准备阶段执行事务但不进行事务的提交。</li>
<li>提交阶段，commit phase：事务管理器收到了参与者的执行失败或者超时消息时，直接给每个参与者发送回滚（Rollback）消息；否则，发送提交（Commit）消息；参与者根据事务管理器的指令执行提交或者回滚操作，并释放事务处理过程中使用的锁资源。注意：必须在最后阶段释放锁资源。</li>
</ul>
<h3 id="流程描述"><a href="#流程描述" class="headerlink" title="流程描述"></a>流程描述</h3><ol>
<li><p>第一阶段，准备阶段</p>
<p>1.1. 管理器向所有参与者发送做好事务提交准备的命令，并等待参与者响应</p>
<p>1.2. 参与者执行事务，但不提交，随后阻塞等待协调者的后续指令</p>
<p>1.3. 参与者返回是否可执行事务提交或者参与者响应超时，只会出现这三种情况</p>
</li>
<li><p>第二阶段，提交阶段</p>
<ul>
<li><p>若第一阶段所有参与者均执行成功事务</p>
<p>2.1. 事务管理器向所有参与者发送事务提交命令，并等待参与者响应</p>
<p>2.2. 参与者执行事务提交，释放占有资源</p>
<p>2.3. 参与者返回执行事务提交成功（理论上会出现极低概率参与者响应超时）</p>
</li>
<li><p>若第一阶段有任意参与者执行事务失败或者参与者响应超时</p>
<p>2.1. 事务管理器向事务执行成功的参与者发送事务回滚命令，并等待这些参与者响应</p>
<p>2.2. 参与者执行事务回滚，释放占有资源</p>
<p>2.3. 参与者返回执行事务回滚成功（理论上会出现极低概率参与者响应超时）</p>
</li>
</ul>
</li>
</ol>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/image-20250117015642677.png" class="" title="image-20250117015642677">



<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/m9g6tv1p9e.png" class="" title="img">

<h3 id="相关实现"><a href="#相关实现" class="headerlink" title="相关实现"></a>相关实现</h3><h4 id="X-Open-XA-规范"><a href="#X-Open-XA-规范" class="headerlink" title="X&#x2F;Open XA 规范"></a>X&#x2F;Open XA 规范</h4><p><a target="_blank" rel="noopener" href="https://pubs.opengroup.org/onlinepubs/009680699/toc.pdf">Distributed Transaction Processing: The XA Specification</a></p>
<p>X&#x2F;Open XA 规范（X&#x2F;Open eXtended Architecture Specification）是 X&#x2F;Open（后来与 The Open Group 合并）于 1991 年发布的分布式事务处理 （DTP， distributed transaction processing） 规范。XA 规范基于 2PC 方案为分布式事务处理制定接口标准，Oracle、MySQL 等数据库均提供了 XA 支持。</p>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/image-20250117025010087.png" class="" title="image-20250117025010087">

<p>AP: ，应用程序。也就是业务层。哪些操作属于一个事务，就是AP定义的。 这个角色要做两件事情，一方面是定义构成整个事务所需要的所有操作，另一方面是亲自访问资源节点来执行操作。</p>
<p>RM：Resource Manager，资源管理器。一般是数据库，也可以是其他的资源管理器，如消息队列(如JMS数据源)，文件系统等。 这个角色是管理着某些共享资源的自治域，比如说一个MySQL数据库实例。在DTP里面，还有两个要求，一是RM自身必须是支持事务的，二是RM能够根据<br> 将全局（分布式）事务标识定位到自己内部的对应事务。</p>
<p>TM: Transaction Manager，事务管理器。接收AP的事务请求，对全局事务进行管理，管理事务分支状态，协调RM的处理，通知RM哪些操作属于哪些全局事务以及事务分支等等。这个也是整个事务调度模型的核心部分。 这个角色能与AP和RM直接通信，协调AP和RM来实现分布式事务的完整性。主要的工作是提供AP注册全局事务的接口，颁发全局事务标识（GTID之类 的），存储&#x2F;管理全局事务的内容和决策并指挥RM做commit&#x2F;rollback。</p>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/webp.webp" class="" title="img">



<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/hw2bneasl4.png" class="" title="img">

<p>XA的主要限制<br>必须要拿到所有数据源，而且数据源还要支持XA协议。目前MySQL中只有InnoDB存储引擎支持XA协议。<br>性能比较差，要把所有涉及到的数据都要锁定，是强一致性的，会产生长事务。</p>
<p>数据锁定：数据在事务未结束前，为了保障一致性，根据数据隔离级别进行锁定。</p>
<p>协议阻塞：本地事务在全局事务 没 commit 或 callback前都是阻塞等待的。</p>
<p>性能损耗高：主要体现在事务协调增加的RT成本，并发事务数据使用锁进行竞争阻塞。</p>
<h4 id="Seata-AT"><a href="#Seata-AT" class="headerlink" title="Seata AT"></a>Seata AT</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/crazymakercircle/article/details/143200817#t83">https://blog.csdn.net/crazymakercircle/article/details/143200817#t83</a></p>
<h3 id="优劣分析"><a href="#优劣分析" class="headerlink" title="优劣分析"></a>优劣分析</h3><p>缺点：</p>
<ol>
<li>超时问题：第一阶段执行事务时，事务执行失败或者超时都会导致分布式事务回滚，但超时会带来一些问题：<ol>
<li>第一个问题，假定某节点会超时，那么执行事务时，正常节点执行完毕事务后，需要等到异常节点超时后资源才能被回滚，这样会因为一个异常节点较长时间锁定多个正常节点资源的情况</li>
<li>第二个问题，超时分为两种情况，第一种是由于服务不可用导致子事务无法执行，第二种是事务正常执行但耗时过长，导致响应超时，第二种会导致部分分布式事务执行成功造成数据不一致</li>
</ol>
</li>
<li>单点故障：在 2PC 中，事务协调者扮演了举足轻重的作用，由于事务协调者的重要性，一旦事务协调者发生故障，事务的参与者就会一直阻塞下去。尤其是在第二阶段，如果协调者发生故障，那么所有的参与者还都处于锁定事务资源的状态中，而无法继续完成事务操作。还有一个问题，就是当事务协调者发出 commit 指令之前，如果宕机了，此时虽然可以重新选举一个新的协调者出来，但是还是无法解决因为事务协调者宕机导致的事务参与者处于阻塞状态的问题。</li>
</ol>
<h3 id="场景选择"><a href="#场景选择" class="headerlink" title="场景选择"></a>场景选择</h3><p>…</p>
<h2 id="3PC"><a href="#3PC" class="headerlink" title="3PC"></a>3PC</h2><h3 id="基本概念-1"><a href="#基本概念-1" class="headerlink" title="基本概念"></a>基本概念</h3><p>3PC分为CanCommit、PreCommit、DoCommit三个阶段，其中CanCommit由2PC准备阶段演变而来，DoCommit由2PC提交阶段演变而来。3PC针对2PC中的超时问题进行了优化，主要体现在CanCommit阶段的独立，和PreCommit允许超时自动提交而不是像2PC中的回滚。</p>
<ul>
<li>CanCommit阶段，事务管理器向各个参与者询问是否可以进行事务执行，确保参与者没有宕机，处于可用状态。CanCommit的意义在于提前检查参与者是否是由于不可用而超时，这样直接回滚即可。由于在真正开始执行事务之前直接回滚，并没有真正锁定资源，性能上有一定提升。</li>
<li>PreCommit阶段，事务管理器向各个参与者发送事务执行命令，参与者执行事务，当参与者超时时，被认为事务正常执行，仅是执行时间超过了超时阈值，分布式事务不会进行回滚，这一点不回滚的判断是基于CanCommit阶段进行可用性检测之后的结论。</li>
<li>DoCommit阶段，事务管理器向各个参与者发送事务提交命令，参与者提交事务</li>
</ul>
<h3 id="流程描述-1"><a href="#流程描述-1" class="headerlink" title="流程描述"></a>流程描述</h3><ol>
<li>第一阶段，CanCommit阶段</li>
</ol>
<p>​	1.1. 管理器向所有参与者发送是否可以执行事务的问询，并等待参与者响应</p>
<p>​	1.2. 参与者检查自身状态，响应是否可以执行事务</p>
<p>​	1.3. 参与者返回是否可执行事务或者参与者响应超时</p>
<ol start="2">
<li><p>第二阶段，PreCommit阶段</p>
<ul>
<li><p>若第一阶段有任一参与者响应不可执行事务或者响应超时，直接回滚分布式事务</p>
</li>
<li><p>若第一阶段所有参与者均响应可执行事务</p>
<p>2.1. 事务管理器向所有参与者发送事务执行命令，并等待参与者响应</p>
<p>2.2. 参与者锁定资源，执行事务但不提交，并将 Undo 和 Redo 信息记录到事务日志中</p>
<p>2.3 参与者返回事务提交成功或者失败（理论上会出现极低概率参与者正常执行事务但超时或者极低极低概率参与者不可用）</p>
</li>
</ul>
</li>
<li><p>第三阶段，DoCommit阶段</p>
<ul>
<li><p>若第二阶段所有参与者执行事务成功</p>
<p>3.1. 事务管理器向所有参与者发送事务提交命令，并等待参与者响应</p>
<p>3.2. 参与者执行事务提交，释放占有资源</p>
<p>3.3. 参与者返回执行事务提交成功（理论上会出现极低极低概率参与者响应超时，交由TM重试解决）,随后阻塞等待下一步指令</p>
</li>
<li><p>若第二阶段任一参与者执行事务失败或超时</p>
<p>3.1. 事务管理器向事务执行成功的参与者发送事务回滚命令，并等待这些参与者响应</p>
<p>3.2. 参与者执行事务回滚，释放占有资源</p>
<p>3.3. 参与者返回执行事务回滚成功（理论上会出现极低极低概率参与者响应超时，交由TM重试解决</p>
</li>
</ul>
</li>
</ol>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/c959106e7231a31a155b2983c0a1223f.png" class="" title="img">









<h3 id="相关实现-1"><a href="#相关实现-1" class="headerlink" title="相关实现"></a>相关实现</h3><p>3PC 过于理论，主流数据库和主流分布式事务中间件中均未实现3PC。</p>
<h2 id="TCC"><a href="#TCC" class="headerlink" title="TCC"></a>TCC</h2><h3 id="基本概念-2"><a href="#基本概念-2" class="headerlink" title="基本概念"></a>基本概念</h3><p>TCC 是指 Try Confirm Cancel，核心思路：将针对某资源的操作分为三个子操作，try，用于预留资源，confirm，用于执行操作，cancel，用于confirm失败时释放预留的资源，三个子操作均保证为原子操作。一个 TCC 事务中可能会有多个业务操作，其整个执行过程如下：</p>
<p>第一阶段：所有业务操作执行其try子操作，预留资源</p>
<p>第二阶段：若由某业务操作try子操作失败，则所有try执行成功的业务操作执行cancel子操作，若所有业务操作try子操作执行均成功，则所有业务操作执行confirm子操作。</p>
<p>TCC 中 confirm 操作是最终完成业务操作的阶段，但整个阶段中最容易失败的是 try 阶段，因为 try 阶段用于预留资源，，在预留资源之后，CC部分操作就不容易失败。</p>
<ul>
<li>Confirm 与 Cancel 如果失败，由TCC框架进行重试补偿</li>
<li>存在极低概率在CC环节彻底失败，则需要定时任务或人工介入</li>
</ul>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/3dcc7c77cbb6ee81c9e41d60e75f9396.png" class="" title="img">





<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><h4 id="允许空回滚"><a href="#允许空回滚" class="headerlink" title="允许空回滚"></a>允许空回滚</h4><p>​    空回滚出现的原因是 Try 超时或者丢包，导致 TCC 分布式事务二阶段的 回滚，触发 Cancel 操作，此时事务参与者未收到Try，但是却收到了Cancel 请求，如下图所示：</p>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/e592cf382d23d3db57bc62173ec99cea.png" class="" title="img">

<p> 所以 cancel 接口在实现时需要允许空回滚，也就是 Cancel 执行时如果发现没有对应的事务 xid 或主键时，需要返回回滚成功，让事务服务管理器认为已回滚。</p>
<h4 id="防悬挂控制"><a href="#防悬挂控制" class="headerlink" title="防悬挂控制"></a>防悬挂控制</h4><p>悬挂指的是二阶段的 Cancel 比 一阶段的Try 操作先执行，出现该问题的原因是 Try 由于网络拥堵而超时，导致事务管理器生成回滚，触发 Cancel 接口，但之后拥堵在网络的 Try 操作又被资源管理器收到了，但是 Cancel 比 Try 先到。但按照前面允许空回滚的逻辑，回滚会返回成功，事务管理器认为事务已回滚成功，所以此时应该拒绝执行空回滚之后到来的 Try 操作，否则会产生数据不一致。因此我们可以在 Cancel 空回滚返回成功之前，先记录该条事务 xid 或业务主键，标识这条记录已经回滚过，Try 接口执行前先检查这条事务xid或业务主键是否已经标记为回滚成功，如果是则不执行 Try 的业务操作。</p>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/9f9a803b45a06324541dbdf60dcce0f9.png" class="" title="img">

<h4 id="幂等控制"><a href="#幂等控制" class="headerlink" title="幂等控制"></a>幂等控制</h4><p>​    由于网络原因或者重试操作都有可能导致 Try - Confirm - Cancel 3个操作的重复执行，所以使用 TCC 时需要注意这三个操作的幂等控制，通常我们可以使用事务 xid 或业务主键判重来控制。</p>
<p>何时选择基于 TCC 实现的分布式事务？<br>TCC 方案适用于时效性要求高，如转账、支付等场景，因此 TCC 方案在电商、金融领域落地较多，但是上述原因导致 TCC 方案大多被研发实力较强、有迫切需求的大公司所采用。微服务倡导服务的轻量化、易部署，而 TCC 方案中很多事务的处理逻辑需要应用自己编码实现，对业务的侵入强，复杂且开发量大。因此，TCC 实际上是最为复杂的一种情况，其能处理所有的业务场景，但无论出于性能上的考虑，还是开发复杂度上的考虑，都应该尽量避免该类事务。</p>
<h2 id="Saga"><a href="#Saga" class="headerlink" title="Saga"></a>Saga</h2><h3 id="基本概念-3"><a href="#基本概念-3" class="headerlink" title="基本概念"></a>基本概念</h3><blockquote>
<p> saga，英音，[‘sɑ:ɡə]，n. 萨迦（尤指古代挪威或冰岛讲述冒险经历和英雄业绩的长篇故事，这些故事的特点是它们由一系列事件组成，每个事件都相对独立，但又共同构成了一个完整的故事线）；（讲述许多年间发生的事情的）长篇故事；传说，冒险故事，英雄事迹。</p>
</blockquote>
<p>Saga 是针对长活事务（LLT，long lived transaction）的解决方案，相关论文见 <a target="_blank" rel="noopener" href="https://www.cs.cornell.edu/andru/cs711/2002fa/reading/sagas.pdf">SAGAS</a>。其核心思路是将长活事务拆分为多个子事务，每个子事务都可以独立执行，所有子事务共同完成一个完整的业务流程。</p>
<p>对于分布式事务而言，长活事务就是分布式事务本身，子事务就是每个服务的本地事务。</p>
<h3 id="流程描述-2"><a href="#流程描述-2" class="headerlink" title="流程描述"></a>流程描述</h3><p>每个 saga 事务由一系列幂等的有序子事务（sub-transaction） Ti 组成，正常情况下子事务依次执行直至所有子事务执行完毕，saga事务执行完毕，当某个子事务执行失败时，saga有两种恢复策略：向后恢复和向前恢复。</p>
<h4 id="向后恢复，backward-recovery"><a href="#向后恢复，backward-recovery" class="headerlink" title="向后恢复，backward recovery"></a>向后恢复，backward recovery</h4><ol>
<li>每个 saga 事务由一系列幂等的有序子事务（sub-transaction） Ti 组成</li>
<li>采用向后恢复策略，则需要为每个Ti实现一个相反的幂等补偿操作Ci，Ci本身也是一个幂等子事务，Ci与Ti两者操作互逆。</li>
<li>当某个子事务Ti执行失败时，saga事务协调器按照(T1, T2, Ti-1)的反序依次调用(Ci-1, …, C1)完成补偿操作，回滚saga事务</li>
<li>理论上，补偿事务不会失败，但由于复杂的实际情况（网络波动、机房断电），当补偿失败时，需要人工介入</li>
</ol>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/11d104d5c608de20bb4dc25a40922c72.png" class="" title="img">

<p>从上图可知事务执行到了支付事务T3，但是失败了，因此事务回滚需要从C3,C2,C1依次进行回滚补偿，对应的执行顺序为：T1,T2,T3,C3,C2,C1。</p>
<h4 id="向前恢复-forward-recovery"><a href="#向前恢复-forward-recovery" class="headerlink" title="向前恢复(forward recovery)"></a>向前恢复(forward recovery)</h4><p>向前恢复是当子事务失败时，重试当前子事务，直至子事务成功执行。若业务中子事务最终都会成功或者补偿事务难以定义，则可适用向前恢复。</p>
<p>向前恢复的前提假设是每个子事务最终都会成功，适用于必须要让事务成功的场景</p>
<p>的前提假设是，</p>
<ol>
<li>每个 saga 事务由一系列幂等的有序子事务（sub-transaction） Ti 组成</li>
<li>向前恢复没有必要提供补偿事务</li>
<li>当某个子事务Ti执行失败时，saga事务协调器重试该子事务</li>
<li>理论上，子事务执行最终会成功，但由于复杂的实际情况（网络波动、机房断电），并不能无限次重试子事务，当最终无法重试成功时，需要人工介入</li>
</ol>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/1008dd6a23ba8926b19deb9213fbccd2.png" class="" title="img">

<h3 id="相关实现-2"><a href="#相关实现-2" class="headerlink" title="相关实现"></a>相关实现</h3><p>saga 事务由两种实现思路：</p>
<ul>
<li>命令协调，Order Orchestrator</li>
<li>时间编排，Event Choreographyo</li>
</ul>
<h4 id="命令协调"><a href="#命令协调" class="headerlink" title="命令协调"></a>命令协调</h4><p>中央协调器（Orchestrator，简称 OSO）以命令&#x2F;回复的方式与每项服务进行通信，全权负责告诉每个参与者该做什么以及什么时候该做什么。整体流程如下图：</p>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/fc53d4bdc5270dc66c23c9f277df5ed4.png" class="" title="img">

<ul>
<li>① 事务发起方的主业务逻辑请求 OSO 服务开启订单事务</li>
<li>② OSO 向库存服务请求扣减库存，库存服务回复处理结果。</li>
<li>③ OSO 向订单服务请求创建订单，订单服务回复创建结果。</li>
<li>④ OSO 向支付服务请求支付，支付服务回复处理结果。</li>
<li>⑤ 主业务逻辑接收并处理 OSO 事务处理结果回复。</li>
</ul>
<p>中央协调器 OSO 必须事先知道执行整个事务所需的流程，如果有任何失败，它还负责通过向每个参与者发送命令来撤销之前的操作来协调分布式的回滚，基于中央协调器协调一切时，回滚要容易得多，因为协调器默认是执行正向流程，回滚时只要执行反向流程即可。</p>
<h4 id="事件编排"><a href="#事件编排" class="headerlink" title="事件编排"></a>事件编排</h4><p>命令协调方式基于中央协调器实现，所以有单点风险，但是事件编排方式没有中央协调器。事件编排的实现方式中，每个服务产生自己的时间并监听其他服务的事件来决定是否应采取行动。</p>
<p>在事件编排方法中，第一个服务执行一个事务，然后发布一个事件，该事件被一个或多个服务进行监听，这些服务再执行本地事务并发布（或不发布）新的事件。当最后一个服务执行本地事务并且不发布任何事件时，意味着分布式事务结束，或者它发布的事件没有被任何 Saga 参与者听到都意味着事务结束。</p>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/810bed2b3754a914aab2eb0eab732794.png" class="" title="img">

<p>① 事务发起方的主业务逻辑发布开始订单事件。<br>② 库存服务监听开始订单事件，扣减库存，并发布库存已扣减事件。<br>③ 订单服务监听库存已扣减事件，创建订单，并发布订单已创建事件。<br>④ 支付服务监听订单已创建事件，进行支付，并发布订单已支付事件。<br>⑤ 主业务逻辑监听订单已支付事件并处理。<br>        如果事务涉及 2 至 4 个步骤，则非常合适使用事件编排方式，它是实现 Saga 模式的自然方式，它很简单，容易理解，不需要太多的代码来构建。</p>
<h4 id="Seata-Saga"><a href="#Seata-Saga" class="headerlink" title="Seata Saga"></a>Seata Saga</h4><img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/7c6bf1b009c5c6c586d39e280d8e4daa.png" class="" title="img">

<p>Saga 模式 RM 驱动分支事务的行为包含以下两个阶段：</p>
<p>（1）执行阶段：</p>
<p>① 向 TC 注册分支。<br>② 执行业务方法。<br>③ 向 TC 上报业务方法执行情况：成功或失败。<br>（2）完成阶段：</p>
<p>全局提交，RM 不需要处理。<br>全局回滚，收到 TC 的分支回滚请求，执行业务定义的补偿回滚方法。</p>
<p>基于状态机引擎的 Saga 实现：<br>目前SEATA提供的Saga模式是基于状态机引擎来实现的，机制是：</p>
<p>通过状态图来定义服务调用的流程并生成 json 状态语言定义文件<br>状态图中一个节点可以是调用一个服务，节点可以配置它的补偿节点<br>状态图 json 由状态机引擎驱动执行，当出现异常时状态引擎反向执行已成功节点对应的补偿节点将事务回滚</p>
<h4 id="4、Saga事务的优缺点："><a href="#4、Saga事务的优缺点：" class="headerlink" title="4、Saga事务的优缺点："></a>4、Saga事务的优缺点：</h4><p><strong>（1）命令协调设计的优缺点：</strong></p>
<p>① 优点：</p>
<p>服务之间关系简单，避免服务间循环依赖，因为 Saga 协调器会调用 Saga 参与者，但参与者不会调用协调器。<br>程序开发简单，只需要执行命令&#x2F;回复(其实回复消息也是一种事件消息)，降低参与者的复杂性。<br>易维护扩展，在添加新步骤时，事务复杂性保持线性，回滚更容易管理，更容易实施和测试。</p>
<p>② 缺点：</p>
<ul>
<li>中央协调器处理逻辑容易变得庞大复杂，导致难以维护。</li>
<li>存在协调器单点故障风险。</li>
</ul>
<p><strong>（2）事件编排设计的优缺点：</strong></p>
<p>① 优点：</p>
<ul>
<li>避免中央协调器单点故障风险。</li>
<li>当涉及的步骤较少服务开发简单，容易实现。</li>
</ul>
<p>② 缺点：</p>
<ul>
<li>服务之间存在循环依赖的风险。</li>
<li>当涉及的步骤较多，服务间关系混乱，难以追踪调测。</li>
</ul>
<blockquote>
<p>由于 Saga 模型没有 Prepare 阶段，因此事务间不能保证隔离性。当多个 Saga 事务操作同一资源时，就会产生更新丢失、脏数据读取等问题，这时需要在业务层控制并发，例如：在应用层面加锁，或者应用层面预先冻结资源。</p>
</blockquote>
<h3 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h3><ol>
<li>Saga只允许<strong>两个层次的嵌套</strong>，顶级的Saga和简单子事务</li>
<li>补偿也有需考虑的事项：<ul>
<li>补偿事务从语义角度撤消了事务Ti的行为，但未必能将数据库返回到执行Ti时的状态。（例如，如果事务触发导弹发射， 则可能无法撤消此操作，发送电邮的事务可以通过发送解释问题的另一封电邮来补偿）</li>
</ul>
</li>
</ol>
<h5 id="何时选择基于-Saga-实现的分布式事务？"><a href="#何时选择基于-Saga-实现的分布式事务？" class="headerlink" title="何时选择基于 Saga 实现的分布式事务？"></a><strong>何时选择基于 Saga 实现的分布式事务？</strong></h5><ul>
<li>业务流程长、业务流程多</li>
<li>参与者包含其它公司或遗留系统服务，无法提供 TCC 模式要求的三个接口，接入简单？？</li>
</ul>
<p>Saga 方案适用于无需马上返回业务发起方最终状态的场景，例如：你的请求已提交，请稍后查询或留意通知之类的场景。Saga 方案中所有的本地子事务执行过程中，都无需等待其调用的子事务执行，减少了加锁的时间，这在事务流程较多较长的业务中性能优势更为明显。同时，其利用队列进行进行通讯，具有削峰填谷的作用。因此该形式适用于不需要同步返回发起方执行最终结果、可以进行补偿、对性能要求较高、不介意额外编码的业务场景。</p>
<p>Saga的使用条件<br>Saga看起来很有希望满足我们的需求。所有长活事务都可以这样做吗？这里有一些限制：</p>
<p>Saga只允许两个层次的嵌套，顶级的Saga和简单子事务<br>在外层，全原子性不能得到满足。也就是说，sagas可能会看到其他sagas的部分结果<br>每个子事务应该是独立的原子行为<br>在我们的业务场景下，各个业务环境（如：航班预订、租车、酒店预订和付款）是自然独立的行为，而且每个事务都可以用对应服务的数据库保证原子操作。<br>补偿也有需考虑的事项：</p>
<p>补偿事务从语义角度撤消了事务Ti的行为，但未必能将数据库返回到执行Ti时的状态。（例如，如果事务触发导弹发射， 则可能无法撤消此操作）<br>但这对我们的业务来说不是问题。其实难以撤消的行为也有可能被补偿。例如，发送电邮的事务可以通过发送解释问题的另一封电邮来补偿。</p>
<p>对于消息发送的异常情况分析，我们可以看到，使用基于普通消息的最终一致性分布式事务方案无论如何，都无法保证业务处理与消息发送两边的一致性，其根本的原因就在于：远程调用，结果最终可能为成功、失败、超时；而对于超时的情况，处理方最终的结果可能是成功，也可能是失败，调用方是无法知晓的。为了保证两边数据的一致性，我们只能从其他地方寻找新的突破口。</p>
<p>Distributed Transactions Manager，DTM</p>
<p><a target="_blank" rel="noopener" href="https://dtm.pub/guide/start.html">https://dtm.pub/guide/start.html</a></p>
<p><a target="_blank" rel="noopener" href="https://dtm.pub/resource/blogs-theory.html">https://dtm.pub/resource/blogs-theory.html</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/dtm-labs/dtm">https://github.com/dtm-labs/dtm</a></p>
<p>分析分布式事务</p>
<p>xa</p>
<p>2pc</p>
<p>3pc</p>
<p>尝试手动画图吧，drawio</p>
<p>四点前</p>
<p>尝试阅读hexo tree 主题代码</p>
<p>建立 health 站点</p>
<p>八点前</p>
<p>洗衣服 退货</p>
<p>写周报</p>
<p>小狗钱钱阅读</p>
<p>11点前</p>
<p>是不是考虑做一个基础平台快速启动呢？？？？借用阿里云平台完成对整个微服务的验证。</p>
<p>30 岁 找到目标</p>
<p>事务：事务是由一组操作构成的可靠的独立的工作单元，事务具备ACID的特性，即原子性、一致性、隔离性和持久性。</p>
<p>分布式系统中的数据库事务问题：进行微服务拆分后，每个节点负责相对独立的一部分功能，原本由一个服务完成的功能，现在由一个调用链完成，调用链的每个节点就是一个服务的一个操作，理想情况期望整个调用链能达到像本地事务一样的操作，即例如当调用链中任意节点执行失败时，可以回滚整个调用链。</p>
<p>由于分布式链路中每个节点均可独立使用数据库，例如同种类同实例数据库、同种类不同示例数据库或者不同种类不同示例数据库，且不同种类数据库对事务的支持程度不同，故没有一个统一分布式事务方案可以对任意数据进行事务的统一管理，另外，由于微服务架构使得调用链路变长，以及要使得整个链路是一个事务，性能代价也是分布式事务方案选型的一个重要影响因素。当前针对分布式系统中的数据库事务问题，整体上的解决方案是根据具体的业务场景，权衡取舍，因地制宜，采用满足该场景的分布式事务方案。</p>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/image-20250112111556597.png" class="" title="image-20250112111556597">





<p>根据CAP、BASE理论，以及考虑到分布式事务的性能问题，大体上分布式事务方案可以分为两大类：</p>
<ul>
<li>刚性事务：CP型，保证分布式事务涉及的各数据库之间的强一致性，整体对外表现像一个本地事务一样。</li>
<li>柔性事务：AP型，允许分布式事务涉及的各数据库之间为弱一致性，大体对外表象像一个本地事务，允许出现预期中且可接受的不一致情况，并具有不一致时的补偿操作。</li>
</ul>
<p>mysql在执行分布式事务（外部XA）的时候，mysql服务器相当于xa事务资源管理器，与mysql链接的客户端相当于事务管理器。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/YCITRG/yecao-mall-sql-for-transaction">https://github.com/YCITRG/yecao-mall-sql-for-transaction</a></p>
<p>野草商城</p>
<p>客户选好若干种类和数量的商品，合适的优惠券，点击下单：</p>
<ol>
<li>客户端向订单服务发起请求，请求中包含的信息如下：<ul>
<li>用户认证信息</li>
<li>要购买的商品种类和数量</li>
<li>使用的优惠券</li>
</ul>
</li>
<li>订单服务调用库存服务扣减库存，若扣减失败，整个链路回滚，若扣减成功，继续</li>
<li>订单服务调用优惠券服务验券并消耗，若验券失败，整个链路回滚，若验券成功，继续</li>
<li>订单服务调用支付服务，创建一笔支付单，创建失败，整个链路回滚，若创建成功，返回支付单id</li>
<li>订单服务发送消息队列，15分钟延迟消息，用于取消未支付的订单、恢复库存和退回优惠券</li>
<li>订单服务响应客户端，返回支付单id</li>
</ol>
<p>库存扣减</p>
<pre><code>-- 扣减库存，在库存服务执行
XA START &quot;811916921139674&quot;;
UPDATE tb_inventory
SET stock_quantity = stock_quantity - 100
WHERE product_id = 1
  AND stock_quantity - reserved_quantity &gt;= 100;
UPDATE tb_inventory
SET stock_quantity = stock_quantity - 20
WHERE product_id = 2
  AND stock_quantity - reserved_quantity &gt;= 20;
UPDATE tb_inventory
SET stock_quantity = stock_quantity - 6
WHERE product_id = 3
  AND stock_quantity - reserved_quantity &gt;= 6;
XA END &quot;811916921139674&quot;;
XA PREPARE &quot;811916921139674&quot;;

-- 验证优惠券，在优惠券服务执行
XA START &quot;391495333076255&quot;;
UPDATE tb_coupon
SET is_used = 1
WHERE coupon_id = 3
  AND user_id = 1
  AND is_used = 0;
XA END &quot;391495333076255&quot;;
XA PREPARE &quot;391495333076255&quot;;

-- 创建订单，在订单服务执行
XA START &quot;660515977379407&quot;;
INSERT INTO tb_order (order_id, user_id, order_status, total_amount) VALUE (1, 1, &quot;CREATED&quot;, 100 * 2.5 + 20 * 39.9 + 6 * 9.9 - 20);
INSERT INTO tb_order_item (order_id, product_id, quantity, unit_price)
VALUES (1, 1, 100, 2.5),
       (1, 2, 20, 39.9),
       (1, 3, 6, 9.9);
XA END &quot;660515977379407&quot;;
XA PREPARE &quot;660515977379407&quot;;

-- 创建支付单，在支付服务执行
XA START &quot;994749426564062&quot;;
INSERT INTO tb_payment_order (order_id, payment_amount, payment_status) VALUE (1, 100 * 2.5 + 20 * 39.9 + 6 * 9.9 - 20, &quot;PENDING&quot;);
XA END &quot;994749426564062&quot;;
XA PREPARE &quot;994749426564062&quot;;

-- 提交分布式事务，在TM执行
XA COMMIT &quot;811916921139674&quot;;
XA COMMIT &quot;391495333076255&quot;;
XA COMMIT &quot;660515977379407&quot;;
XA COMMIT &quot;994749426564062&quot;;
</code></pre>
<p>当一个全局事务开启后就不能再次开启了，否则会报错：</p>
<pre><code>Error Code: 1399. XAER_RMFAIL: The command cannot be executed when global transaction is in the ACTIVE state
</code></pre>
<pre><code>XA &#123;START|BEGIN&#125; xid [JOIN|RESUME] 启动xid事务 (xid 必须是一个唯一值; 不支持[JOIN|RESUME]子句) 
XA END xid [SUSPEND [FOR MIGRATE]] 结束xid事务 ( 不支持[SUSPEND [FOR MIGRATE]] 子句) 
XA PREPARE xid 准备、预提交xid事务 
XA COMMIT xid [ONE PHASE] 提交xid事务 
XA ROLLBACK xid 回滚xid事务 
XA RECOVER 查看处于PREPARE 阶段的所有事务
</code></pre>
<ol>
<li><strong>订单服务(Order Service)</strong><ul>
<li>负责订单的创建、更新、查询等操作。订单服务是整个电商平台的核心服务之一，需要处理订单的生成、状态变更、查询等业务逻辑。</li>
<li>订单ID作为唯一键，确保订单的唯一性和可追溯性。</li>
</ul>
</li>
<li><strong>库存服务(Inventory Service)</strong><ul>
<li>负责商品库存的管理，包括库存的查询、扣减、增加等操作。</li>
<li>当订单服务创建订单时，库存服务需要根据订单中的商品信息进行库存扣减。库存服务需要具备高可用性和一致性，以确保库存数据的准确性。</li>
</ul>
</li>
<li><strong>优惠券服务(Coupon Service)</strong><ul>
<li>负责优惠券的管理，包括优惠券的发放、查询、使用等操作。</li>
<li>用户在下单时选择优惠券后，优惠券服务需要在订单提交时扣减相应的优惠券。同时，优惠券服务还需要处理优惠券的有效性验证、过期处理等业务逻辑。</li>
</ul>
</li>
<li><strong>支付服务(Payment Service)</strong><ul>
<li>负责处理支付相关的业务，包括创建支付单、处理支付请求、查询支付状态等。</li>
<li>当订单创建成功后，支付服务需要根据订单信息创建支付单，并提供支付接口供用户进行支付操作。支付服务还需要与外部支付渠道（如支付宝、微信支付等）进行交互，确保支付流程的顺利进行。</li>
</ul>
</li>
<li><strong>用户服务(User Service)</strong><ul>
<li>虽然您没有直接提到用户服务，但在整个电商平台中，用户服务是非常重要的组成部分。</li>
<li>用户服务负责用户账号的管理，包括用户注册、登录、权限验证等操作。在订单创建、优惠券使用等环节，用户服务需要提供用户信息的验证和授权功能，以确保业务的安全性和准确性。</li>
</ul>
</li>
</ol>
<p>分析分布式系统问题，需要站在CAP、BASE理论上思考</p>
<p>本地事务：当事务由资源管理器本地管理时被称作本地事务。本地事务的优点就是支持严格的ACID特性，高效，可靠，状态可以只在资源管理器中维护，而且应用编程模型简单。但是本地事务不具备分布式事务的处理能力，隔离的最小单位受限于资源管理器。</p>
<p>全局事务：当事务由全局事务管理器进行全局管理时成为全局事务，事务管理器负责管理全局的事务状态和参与的资源，协同资源的一致提交回滚。</p>
<p>分布式事务：由多个不同服务的本地事务参与，且通常数据保存到不同种类的不同数据库</p>
<p>本地事务的情况下，通常所有事务相关的业务操作，会被我们封装到一个Service方法中。而在分布式的情况下，请求链路被延展，拉长，一个操作会被拆分成多个服务，它们呈现线状或网状，依靠网络通信构建成一个整体。在这种情况下，事务无疑变得更复杂。</p>
<p>基于上述两个复杂性，期望有一个统一的分布式事务方案，能够像本地事务一样，以几乎无侵入的方式，满足各种存储介质，各种复杂链路，是不现实的。</p>
<p>至少，在当前，还没有一个十分成熟的解决方案。所以，一般情况下，在分布式下，事务会被拆分解决，并根据不同的情况，采用不同的解决方案。</p>
<h2 id="本地消息表"><a href="#本地消息表" class="headerlink" title="本地消息表"></a>本地消息表</h2><img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/9f7b84faad46cc55559ab0c17160765a.png" class="" title="img">

<h3 id=""><a href="#" class="headerlink" title=""></a><img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/kahs1395ph.png" class="" title="img"></h3><p>本地消息表方案最初是由 ebay 提出的，后来通过支付宝等公司的布道，在国内被广泛使用。对于不支持事务消息的 MQ 则可以采用此方案，其核心的设计思路就是<strong>将事务消息存储到本地数据库中，并且消息数据的记录与业务数据的记录必须在同一个事务内完成</strong>。将消息数据保存到 DB 之后，就可以通过一个定时任务到 DB 中去轮询查出状态为<code>待发送</code>的消息，然后将消息投递给 MQ，成功收到 MQ 的 ACK 确认之后，再将 DB 中消息的状态更新或者删除消息。交互流程如下图所示：</p>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/9x8sev65ge.png" class="" title="img">

<p>处理步骤如下：</p>
<ol>
<li>消息生产者在本地事务中处理业务更新操作，并写一条事务消息到本地消息表，该消息的状态为<code>待发送</code>，业务操作和写消息表都在同一个本地事务中完成。</li>
<li>定时任务不断轮询从本地消息表中查询出状态为<code>待发送</code>状态的消息，并将查出的所有消息投递到 MQ Server。</li>
<li>MQ Server 接收到消息之后，就会将消息进行持久化，然后返回 ACK 给到消息生产者。</li>
<li>消息生产者收到了 MQ Server 的 ACK 之后，再从本地消息表中查询出对应的消息记录，将消息的状态更新为<code>已发送</code>，或者直接删除消息记录。</li>
<li>MQ Server 返回 ACK 给到消息生产者之后，接着就会将消息发送给消息消费者。</li>
<li>消息消费者接收到消息之后，执行本地事务，最后返回 ACK 给到 MQ Server。</li>
</ol>
<p>因为 MQ 宕机或网络中断等原因，生产者有可能会向 MQ 发送重复消息，因此，消费者接收消息后的处理需要支持幂等。</p>
<p>该方案，相比 MQ 事务消息方案，其优点就是弱化了对 MQ 的依赖，因为消息数据的可靠性依赖于本地消息表，而不依赖于 MQ。还有一个优点就是容易实现。缺点则是本地消息表与业务耦合在一起，难以做成通用性，且消息数据与业务数据同个数据库，占用了业务系统资源。本地消息表是基于数据库来做的，而数据库是要读写磁盘 I&#x2F;O 的，因此在高并发下是有性能瓶颈的。</p>
<h4 id="1、什么是本地消息表："><a href="#1、什么是本地消息表：" class="headerlink" title="1、什么是本地消息表："></a>1、什么是本地消息表：</h4><p>本地消息表的核心思路就是将分布式事务拆分成本地事务进行处理，在该方案中主要有两种角色：事务主动方和事务被动方。事务主动发起方需要额外新建事务消息表，并在本地事务中完成业务处理和记录事务消息，并轮询事务消息表的数据发送事务消息，事务被动方基于消息中间件消费事务消息表中的事务。</p>
<p>这样可以避免以下两种情况导致的数据不一致性：</p>
<ul>
<li>业务处理成功、事务消息发送失败</li>
<li>业务处理失败、事务消息发送成功</li>
</ul>
<h4 id="2、本地消息表的执行流程："><a href="#2、本地消息表的执行流程：" class="headerlink" title="2、本地消息表的执行流程："></a>2、本地消息表的执行流程：</h4><img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/0a5d1a9dee731fff1ac86fd49159358b.png" class="" title="img">

<p>① 事务主动方在同一个本地事务中处理业务和写消息表操作<br>② 事务主动方通过消息中间件，通知事务被动方处理事务消息。消息中间件可以基于 Kafka、RocketMQ 消息队列，事务主动方主动写消息到消息队列，事务消费方消费并处理消息队列中的消息。<br>③ 事务被动方通过消息中间件，通知事务主动方事务已处理的消息。<br>④ 事务主动方接收中间件的消息，更新消息表的状态为已处理。</p>
<p>一些必要的容错处理如下：</p>
<p>当①处理出错，由于还在事务主动方的本地事务中，直接回滚即可<br>当②、③处理出错，由于事务主动方本地保存了消息，只需要轮询消息重新通过消息中间件发送，通知事务被动方重新读取消息处理业务即可。<br>如果是业务上处理失败，事务被动方可以发消息给事务主动方回滚事务<br>如果事务被动方已经消费了消息，事务主动方需要回滚事务的话，需要发消息通知事务主动方进行回滚事务。</p>
<h4 id="3、本地消息表的优缺点："><a href="#3、本地消息表的优缺点：" class="headerlink" title="3、本地消息表的优缺点："></a>3、本地消息表的优缺点：</h4><p>（1）优点：</p>
<p>从应用设计开发的角度实现了消息数据的可靠性，消息数据的可靠性不依赖于消息中间件，弱化了对 MQ 中间件特性的依赖。<br>方案轻量，容易实现。<br>（2）缺点：</p>
<p>与具体的业务场景绑定，耦合性强，不可公用<br>消息数据与业务数据同库，占用业务系统资源<br>业务系统在使用关系型数据库的情况下，消息服务性能会受到关系型数据库并发性能的局限</p>
<h2 id="MQ事务消息"><a href="#MQ事务消息" class="headerlink" title="MQ事务消息"></a>MQ事务消息</h2><img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/d5c1251c7a9adabc1972d385fd502bca.png" class="" title="img">









<p>基于 MQ 自身的事务消息方案，据了解，目前只有 <strong>RocketMQ</strong> 提供了支持，其他主流的 MQ 都还不支持，所以我们对该方案的解说都是基于 RocketMQ 的。该方案的设计思路是基于 2PC 的，事务消息交互流程如下图所示：</p>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/fbg3rublsl.png" class="" title="img">

<p>其中，涉及几个概念要说明一下：</p>
<ul>
<li><strong>事务消息</strong>：消息队列 MQ 提供类似 X&#x2F;Open XA 的分布式事务功能，通过 MQ 事务消息能达到分布式事务的最终一致。</li>
<li><strong>半事务消息</strong>：暂不能投递的消息，发送方已经成功地将消息发送到了 MQ 服务端，但是服务端未收到生产者对该消息的二次确认，此时该消息被标记成“暂不能投递”状态，处于该种状态下的消息即半事务消息。</li>
<li><strong>消息回查</strong>：由于网络闪断、生产者应用重启等原因，导致某条事务消息的二次确认丢失，MQ 服务端通过扫描发现某条消息长期处于“半事务消息”时，需要主动向消息生产者询问该消息的最终状态（Commit或是Rollback），该询问过程即消息回查。</li>
</ul>
<p>事务消息发送步骤如下：</p>
<ol>
<li>发送方将半事务消息发送至 MQ 服务端。</li>
<li>MQ 服务端将消息持久化成功之后，向发送方返回 Ack 确认消息已经发送成功，此时消息为半事务消息。</li>
<li>发送方开始执行本地事务逻辑。</li>
<li>发送方根据本地事务执行结果向服务端提交二次确认（Commit 或是 Rollback），服务端收到 Commit 状态则将半事务消息标记为可投递，订阅方最终将收到该消息；服务端收到 Rollback 状态则删除半事务消息，订阅方将不会接受该消息。</li>
</ol>
<p>事务消息回查步骤如下：</p>
<ol>
<li>在断网或者是应用重启的特殊情况下，上述步骤4提交的二次确认最终未到达服务端，经过固定时间后服务端将对该消息发起消息回查。</li>
<li>发送方收到消息回查后，需要检查对应消息的本地事务执行的最终结果。</li>
<li>发送方根据检查得到的本地事务的最终状态再次提交二次确认，服务端仍按照步骤4对半事务消息进行操作。</li>
</ol>
<p>有一点需注意，如果发送方没有及时收到 MQ 服务端的 Ack 结果，那就可能造成 MQ 消息的重复投递，因此，订阅方必须对消息的消费做幂等处理，不能造成同一条消息重复消费的情况。</p>
<p>MQ 事务消息方案的最大缺点就是对业务具有侵入性，业务发送方需要提供回查接口。</p>
<h3 id="六、MQ事务消息："><a href="#六、MQ事务消息：" class="headerlink" title="六、MQ事务消息："></a>六、MQ事务消息：</h3><h4 id="1、MQ事务消息的执行流程："><a href="#1、MQ事务消息的执行流程：" class="headerlink" title="1、MQ事务消息的执行流程："></a>1、MQ事务消息的执行流程：</h4><p>基于MQ的分布式事务方案本质上是对本地消息表的封装，整体流程与本地消息表一致，唯一不同的就是将本地消息表存在了MQ内部，而不是业务数据库中，如下图：</p>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/a8b79222df245104fbba34f8a0ee7569.png" class="" title="img">

<p>由于将本地消息表存在了MQ内部，那么MQ内部的处理尤为重要，下面主要基于 RocketMQ4.3 之后的版本介绍 MQ 的分布式事务方案</p>
<h4 id="2、RocketMQ事务消息："><a href="#2、RocketMQ事务消息：" class="headerlink" title="2、RocketMQ事务消息："></a>2、RocketMQ事务消息：</h4><p>在本地消息表方案中，保证事务主动方发写业务表数据和写消息表数据的一致性是基于数据库事务，而 RocketMQ 的事务消息相对于普通 MQ提供了 2PC 的提交接口，方案如下：</p>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/fd333886fc58c1c765b097df106ed89a.png" class="" title="img">

<p> <strong>（1）正常情况：</strong></p>
<p>在事务主动方服务正常，没有发生故障的情况下，发消息流程如下：</p>
<p>步骤①：发送方向 MQ Server(MQ服务方)发送 half 消息<br>步骤②：MQ Server 将消息持久化成功之后，向发送方 ack 确认消息已经发送成功<br>步骤③：发送方开始执行本地事务逻辑<br>步骤④：发送方根据本地事务执行结果向 MQ Server 提交二次确认（commit 或是 rollback）。<br>最终步骤：MQ Server 如果收到的是 commit 操作，则将半消息标记为可投递，MQ订阅方最终将收到该消息；若收到的是 rollback 操作则删除 half 半消息，订阅方将不会接受该消息</p>
<p><strong>（2）异常情况：</strong></p>
<p>在断网或者应用重启等异常情况下，图中的步骤④提交的二次确认超时未到达 MQ Server，此时的处理逻辑如下：</p>
<p>步骤⑤：MQ Server 对该消息发起消息回查<br>步骤⑥：发送方收到消息回查后，需要检查对应消息的本地事务执行的最终结果<br>步骤⑦：发送方根据检查得到的本地事务的最终状态再次提交二次确认。<br>最终步骤：MQ Server基于 commit&#x2F;rollback 对消息进行投递或者删除。</p>
<h4 id="3、MQ事务消息的优缺点："><a href="#3、MQ事务消息的优缺点：" class="headerlink" title="3、MQ事务消息的优缺点："></a>3、MQ事务消息的优缺点：</h4><p>（1）优点：相比本地消息表方案，MQ 事务方案优点是：</p>
<p>消息数据独立存储 ，降低业务系统与消息系统之间的耦合<br>吞吐量大于使用本地消息表方案<br>（2）缺点：</p>
<p>一次消息发送需要两次网络请求(half 消息 + commit&#x2F;rollback 消息) 。<br>业务处理服务需要实现消息状态回查接口。</p>
<h2 id="最大努力通知"><a href="#最大努力通知" class="headerlink" title="最大努力通知"></a>最大努力通知</h2><p>最大努力通知型也是基于事务消息型扩展而来的，其应用场景主要用于通知外部的第三方系统。即是说，最大努力通知型方案，主要解决的其实是跨平台、跨企业的系统间的业务交互问题。而事务消息型方案则适用于同个网络体系的内部服务间的分布式事务。</p>
<h3 id="七、最大努力通知："><a href="#七、最大努力通知：" class="headerlink" title="七、最大努力通知："></a>七、最大努力通知：</h3><p>最大努力通知也称为定期校对，是对MQ事务方案的进一步优化。它在事务主动方增加了消息校对的接口，如果事务被动方没有接收到主动方发送的消息，此时可以调用事务主动方提供的消息校对的接口主动获取</p>
<img src="/2025/02/22/WebDevelopment/Pandect/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/1c76689e0f818908ffd544b357584e34.png" class="" title="img">



<p>在可靠消息事务中，事务主动方需要将消息发送出去，并且让接收方成功接收消息，这种可靠性发送是由事务主动方保证的；但是最大努力通知，事务主动方仅仅是尽最大努力（重试，轮询….）将事务发送给事务接收方，所以存在事务被动方接收不到消息的情况，此时需要事务被动方主动调用事务主动方的消息校对接口查询业务消息并消费，这种通知的可靠性是由事务被动方保证的。</p>
<p>所以最大努力通知适用于业务通知类型，例如微信交易的结果，就是通过最大努力通知方式通知各个商户，既有回调通知，也有交易查询接口。</p>
<h2 id="选型"><a href="#选型" class="headerlink" title="选型"></a>选型</h2><p>至此，可以解决分布式事务问题的方案我们基本都讲了个遍，那要把分布式事务落地到我们的交易系统中，应该如何选型呢？我们将每种方案先做个对比吧，看下表：</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">XA&#x2F;2PC</th>
<th align="left">TCC</th>
<th align="left">Saga</th>
<th align="left">MQ事务消息</th>
<th align="left">本地消息表</th>
<th align="left">最大努力通知型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">事务一致性</td>
<td align="left">强</td>
<td align="left">中</td>
<td align="left">弱</td>
<td align="left">弱</td>
<td align="left">弱</td>
<td align="left">弱</td>
</tr>
<tr>
<td align="left">性能</td>
<td align="left">低</td>
<td align="left">中</td>
<td align="left">高</td>
<td align="left">高</td>
<td align="left">高</td>
<td align="left">高</td>
</tr>
<tr>
<td align="left">业务侵入性</td>
<td align="left">小</td>
<td align="left">大</td>
<td align="left">小</td>
<td align="left">中</td>
<td align="left">中</td>
<td align="left">中</td>
</tr>
<tr>
<td align="left">复杂性</td>
<td align="left">中</td>
<td align="left">高</td>
<td align="left">中</td>
<td align="left">低</td>
<td align="left">低</td>
<td align="left">低</td>
</tr>
<tr>
<td align="left">维护成本</td>
<td align="left">低</td>
<td align="left">高</td>
<td align="left">中</td>
<td align="left">中</td>
<td align="left">低</td>
<td align="left">中</td>
</tr>
</tbody></table>
<p>而具体如何选型，其实还是需要根据场景而定。在第一篇文章就说过，我们应该由场景驱动架构，离开场景谈架构就是耍流氓。</p>
<p>如果是要解决和外部第三方系统的业务交互，比如交易系统对接了第三方支付系统，那我们就只能选择最大努力通知型。</p>
<p>如果对强一致性有刚性要求的短事务，对高性能和高并发则没要求的场景，那可以考虑用 XA&#x2F;2PC，如果是用 Java 的话，那落地实现可以直接用 Seata 框架的 XA 模式。</p>
<p>如果对一致性要求高，实时性要求也高，执行时间确定且较短的场景，就比较适合用 TCC，比如用在互联网金融的交易、支付、账务事务。落地实现如果是 Java 也建议可以直接用 Seata 的 TCC 模式。</p>
<p>Saga 则适合于业务场景事务并发操作同一资源较少的情况，因为 Saga 本身不能保证隔离性。而且，Saga 没有预留资源的动作，所以补偿动作最好也是容易处理的场景。</p>
<p>MQ 事务消息和本地消息表方案适用于异步事务，对一致性的要求比较低，业务上能容忍较长时间的数据不一致，事务涉及的参与方和参与环节也较少，且业务上还有对账&#x2F;校验系统兜底。如果系统中用到了 RocketMQ，那就可以考虑用 MQ 事务消息方案，因为 MQ 事务消息方案目前只有 RocketMQ 支持。否则，那就考虑用本地消息表方案。</p>
<p>REF</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/a745233700/article/details/122402303">https://blog.csdn.net/a745233700/article/details/122402303</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/crazymakercircle/article/details/143200817#t83">https://blog.csdn.net/crazymakercircle/article/details/143200817#t83</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/a745233700/article/details/122402795">https://blog.csdn.net/a745233700/article/details/122402795</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/jajian/p/10014145.html">https://www.cnblogs.com/jajian/p/10014145.html</a></p>

</div>

<!-- post-guide -->

    <div class="post-guide">
        <div class="item left">
            
              <a href="/2025/02/23/Data/%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/TSV/">
                  <i class="fa fa-angle-left" aria-hidden="true"></i>
                  TSV
              </a>
            
        </div>
        <div class="item right">
            
              <a href="/2025/02/21/httpshelp/">
                httpshelp
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </a>
            
        </div>
    </div>


<!-- comment - giscus -->


<!-- comment - valine -->


<script>
	
	
</script>

	</div>
	<div id="footer">
	<p>
	©<span id="footerYear-start"></span>-<span id="footerYear-end"></span>

	
	    <a href="/">予早</a>
	
	
	
	<br>
	Theme <a href="//github.com/wujun234/hexo-theme-tree" target="_blank">Tree</a>
	by <a href="//wujun.me" target="_blank">Wu Jun</a>
	Powered by <a href="//hexo.io" target="_blank">Hexo</a>
	</p>
</div>


<script type="text/javascript">
	document.getElementById('footerYear-start').innerHTML = new Date().getFullYear() + '';
</script>

<script type="text/javascript">
	document.getElementById('footerYear-end').innerHTML = new Date().getFullYear() + '';
</script>

	<button id="totop-toggle" class="toggle"><i class="fa fa-angle-double-up" aria-hidden="true"></i></button>
</body>
</html>